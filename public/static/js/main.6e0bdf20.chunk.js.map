{"version":3,"sources":["utiles/storageUtils.js","redux/constants.js","redux/reducer.js","redux/store.js","assets/images/img/logo.png","api/ajax.js","api/index.js","redux/actions.js","pages/Login/index.jsx","config/menuConfig.js","components/LeftNav/index.jsx","utiles/dateUtils.js","components/LinkButton/index.jsx","components/Header/index.jsx","pages/Category/addform.js","pages/Category/updateform.js","pages/Category/index.jsx","utiles/constants.js","pages/User/userform.js","pages/User/index.jsx","pages/Charts/Bar.jsx","pages/Charts/Pie.jsx","pages/Charts/Line.jsx","pages/Home/index.jsx","pages/Product/pictureswall.js","pages/Product/richtexteditor.js","utiles/memoryUtils.js","pages/Product/productaddupdate.js","pages/Product/productdetial.js","pages/Product/producthome.js","pages/Product/index.jsx","pages/Role/addform.js","pages/Role/authform.js","pages/Role/index.jsx","pages/notfound/index.jsx","pages/Admin/index.jsx","App.jsx","index.js"],"names":["USER_KEY","saveUser","user","store","set","SET_HEAD_TITLE","RECEIVE_USER","SHOW_ERROR_MSG","RESET_USER","initUser","get","combineReducers","headTitle","state","action","type","data","errorMsg","createStore","reducer","composeWithDevTools","applyMiddleware","thunk","ajax","url","method","Promise","resolve","reject","axios","params","post","then","response","catch","error","message","reqCategorys","parentId","reqAddCategory","categoryName","reqUpdateCategory","categoryId","reqProducts","pageNum","pageSize","reqSearchProducts","searchName","searchType","reqCategory","reqUpdateStatus","productId","status","reqDeleteImg","name","reqAddOrUpdateProduct","product","_id","reqUsers","reqDeleteUser","userId","reqAddRole","roleName","reqUpdateRole","role","reqLogin","username","password","reqAddOrUpdateUser","reqCity","reqWeather","adcode","setHeadTitle","receiveUser","logout","remove","Login","onFinish","values","a","props","login","validatePwd","_","value","length","test","this","to","className","src","logo","alt","initialValues","remember","form","Item","rules","required","whitespace","min","max","pattern","initialValue","prefix","UserOutlined","placeholder","validator","LockOutlined","htmlType","Component","connect","dispatch","result","msg","menuList","title","key","icon","HomeOutlined","isPublic","AppstoreAddOutlined","children","BarChartOutlined","ToolOutlined","SafetyOutlined","AreaChartOutlined","LineChartOutlined","PieChartOutlined","SubMenu","LeftNav","hasAuth","item","menus","indexOf","find","child","getMenuNodes","path","location","pathname","reduce","pre","citem","openKey","push","onClick","menuNodes","mode","theme","selectedKeys","defaultOpenKeys","withRouter","formateDate","time","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","LinkButton","confirm","Header","city","weather","temperature","currentTime","now","getTime","intervalId1","setInterval","setState","getWeather","intervalId2","lives","getTitle","forEach","showConfirm","ExclamationCircleOutlined","onOk","clearInterval","Option","AddForm","formRef","React","createRef","setForm","current","ref","categorys","map","c","UpdateForm","Category","loading","parentName","subCategorys","showStatus","initColums","columns","dataIndex","width","render","category","showUpdate","showSubCategorys","getCategorys","showAdd","addCategory","validateFields","console","log","updateCategory","handleCancel","showCategorys","extra","PlusOutlined","style","ArrowRightOutlined","marginRight","rowKey","dataSource","bordered","pagination","defaultPageSize","showQuickJumper","destroyOnClose","visible","onCancel","BASE_IMG_URL","UserForm","roles","labelCol","span","wrapperCol","label","phone","email","role_id","PureComponent","User","users","isShow","initColumns","roleNames","deleteUser","addOrUpdateUser","getFieldsValue","resetFields","success","getUsers","initRoleNames","Bar","sales","stores","update","sale","getOption","text","tooltip","legend","xAxis","yAxis","series","option","Pie","getOption1","backgroundColor","left","top","textStyle","color","trigger","visualMap","show","inRange","colorLightness","radius","center","sort","b","roseType","labelLine","lineStyle","smooth","length2","itemStyle","shadowBlur","shadowColor","animationType","animationEasing","animationDelay","idx","Math","random","getOption2","subtext","orient","emphasis","shadowOffsetX","Line","RangePicker","Home","title1","fontSize","title2","height","defaultValue","moment","format","margin","precision","valueStyle","suffix","ArrowUpOutlined","ArrowDownOutlined","scale","formatter","v","London","Tokyo","padding","autoFit","month","interactions","position","shape","shared","showCrosshairs","background","fill","stroke","year","PicturesWall","previewVisible","previewImage","fileList","handlePreview","file","thumbUrl","getImgs","handleChange","imgs","img","index","uid","uploadButton","marginTop","accept","listType","onPreview","onChange","footer","RichTextEditor","onEditorStateChange","editorState","getDetail","draftToHtml","convertToRaw","getCurrentContent","uploadImageCallBack","xhr","XMLHttpRequest","open","FormData","append","send","addEventListener","JSON","parse","responseText","link","html","detail","contentBlock","htmlToDraft","contentState","ContentState","createFromBlockArray","contentBlocks","EditorState","createWithContent","createEmpty","editorStyle","border","minHeight","paddingLeft","toolbar","image","uploadCallback","present","mandatory","ProductAddUpdate","options","initOptions","isLeaf","isUpdate","pCategoryId","childOptions","desc","price","categoryIds","myRef","edtRef","history","goBack","loadData","selectedOptions","targetOption","cOptions","memoryUtils","ArrowLeftOutlined","TextArea","rows","addonAfter","marginLeft","ProductDetial","cName1","cName2","all","dangerouslySetInnerHTML","__html","ProductHome","total","products","UpdateStatus","showDetail","getProducts","list","event","target","Product","component","exact","ProductDetail","AuthForm","treeNodes","checkedKey","onCheck","getMenus","disabled","defaultCheckedKeys","defaultExpandAll","checkable","treeData","Role","isShowAdd","isShowAuth","authRef","initColumn","create_time","onRow","getRoles","addRole","updateRole","auth_time","auth_name","rowSelection","selectedRowKeys","onSelect","NotFound","goHome","replace","Footer","Sider","Content","Admin","from","textAlign","App","ReactDOM","document","getElementById"],"mappings":"kYAGMA,EAAW,WACJC,EAAW,SAACC,GAErBC,IAAMC,IAAIJ,EAAUE,ICLVG,EAAe,iBACfC,EAAa,eACbC,EAAiB,iBACjBC,EAAa,aCS3B,IAAMC,EFAKN,IAAMO,IAAIV,IAAW,GEiBjBW,gCAAgB,CAACC,UAxBhC,WAA+C,IAA5BC,EAA2B,uDAF1B,eAEmBC,EAAO,uCAC1C,OAAQA,EAAOC,MACX,KAAKV,EAAe,OAAOS,EAAOE,KAClC,QAAQ,OAAOH,IAqBmBX,KAhB1C,WAAqC,IAAvBW,EAAsB,uDAAhBJ,EAASK,EAAO,uCAChC,OAAQA,EAAOC,MACX,KAAKT,EAAa,OAAOQ,EAAOZ,KAChC,KAAKK,EACL,IAAMU,EAASH,EAAOG,SACtB,OAAO,2BAAIJ,GAAX,IAAiBI,aACjB,KAAKT,EAAY,MAAO,GACxB,QAAQ,OAAOK,M,SCfRK,wBAAYC,EAAQC,8BAAoBC,0BAAgBC,O,kHCNxD,G,OAAA,IAA0B,kC,8DCQ1B,SAASC,EAAKC,GAAiC,IAA5BC,EAA2B,uDAAlB,MAAOT,EAAW,uDAAJ,GAErD,OAAO,IAAIU,SAAQ,SAACC,EAAQC,IAET,QAAXH,EACQI,IAAMnB,IAAIc,EAAK,CAACM,OAAQd,IAExBa,IAAME,KAAKP,EAAKR,IAGpBgB,MAAK,SAAAC,GACTN,EAAQM,EAASjB,SAElBkB,OAAM,SAAAC,GACLC,EAAA,EAAQD,MAAM,4BAAQA,EAAMC,eCjBjC,IAAMC,EAAa,SAACC,GAAD,OAAYf,EAAK,wBAAwB,MAAM,CAACe,cAE7DC,EAAe,SAACC,EAAaF,GAAd,OAAyBf,EAAK,uBAAuB,OAAO,CAACiB,eAAaF,cAEzFG,EAAkB,SAAC,GAAD,OAA6BlB,EAAK,0BAA0B,OAAO,CAACmB,WAApE,EAAEA,WAA6EF,aAA/E,EAAaA,gBAE/BG,EAAY,SAACC,EAAQC,GAAT,OAAoBtB,EAAK,uBAAuB,MAAM,CAACqB,UAAQC,cAE3EC,EAAkB,SAAC,GAAD,IAAEF,EAAF,EAAEA,QAAQC,EAAV,EAAUA,SAASE,EAAnB,EAAmBA,WAAWC,EAA9B,EAA8BA,WAA9B,OAA4CzB,EAAK,yBAAyB,MAA1B,aAAiCqB,UAAQC,YAAUG,EAAYD,KAEjIE,EAAY,SAACP,GAAD,OAAcnB,EAAK,wBAAwB,MAAM,CAACmB,gBAE9DQ,EAAgB,SAACC,EAAUC,GAAX,OAAoB7B,EAAK,+BAA+B,OAAO,CAAC4B,YAAUC,YAE1FC,EAAa,SAACC,GAAD,OAAQ/B,EAAK,qBAAqB,OAAO,CAAC+B,UAEvDC,EAAsB,SAACC,GAAD,OAAWjC,EAAK,oBAAoBiC,EAAQC,IAAI,SAAS,OAAO,OAAOD,IAI7FE,EAAS,kBAAInC,EAAK,oBAAoB,QAEtCoC,EAAc,SAACC,GAAD,OAAUrC,EAAK,sBAAsB,OAAO,CAACqC,YAE3DC,GAAW,SAACC,GAAD,OAAYvC,EAAK,mBAAmB,OAAO,CAACuC,cAEvDC,GAAc,SAACC,GAAD,OAAQzC,EAAK,sBAAsB,OAAOyC,IAExDC,GAAS,SAACC,EAASC,GAAV,OAAqB5C,EAAK,SAAS,OAAO,CAAC2C,WAASC,cAE7DC,GAAmB,SAAClE,GAAD,OAAQqB,EAAK,iBAAiBrB,EAAKuD,IAAI,SAAS,OAAO,OAAOvD,IAEjFmE,GAAQ,kBAAI9C,EAAK,sEAAsE,QAEvF+C,GAAW,SAACC,GAAD,OAAUhD,EAAK,wDAAD,OAAyDgD,EAAzD,yCAAuG,QCnChIC,GAAa,SAAC5D,GAAD,MAAc,CAACG,KAAKV,EAAeW,KAAKJ,IAErD6D,GAAY,SAACvE,GAAD,MAAS,CAACa,KAAKT,EAAaJ,SAExCwE,GAAO,WAEhB,OPQAvE,IAAMwE,OAAO3E,GORN,CAACe,KAAKP,I,QCCXoE,G,4MAEFC,S,uCAAW,WAAOC,GAAP,iBAAAC,EAAA,sDACAb,EAAmBY,EAAnBZ,SAASC,EAAUW,EAAVX,SAChB,EAAKa,MAAMC,MAAMf,EAASC,GAFnB,2C,wDAKXe,YAAc,SAACC,EAAGC,GACd,OAAKA,EAEMA,EAAMC,OAAS,EACf3D,QAAQE,OAAO,qDACfwD,EAAMC,OAAS,GACf3D,QAAQE,OAAO,sDACd,kBAAkB0D,KAAKF,GAGxB1D,QAAQC,UAFRD,QAAQE,OAAO,kFANfF,QAAQE,OAAO,yC,4CAW9B,WACI,IAAM1B,EAAOqF,KAAKP,MAAM9E,KACxB,OAAIA,GAAQA,EAAKuD,IACN,eAAC,IAAD,CAAU+B,GAAG,UAIpB,uBAAKC,UAAU,QAAf,UACI,0BAAQA,UAAU,eAAlB,UACI,sBAAKC,IAAKC,EAAMC,IAAI,qBACpB,iGAEJ,2BAASH,UAAU,gBAAnB,UACI,sBAAKA,UAAWvF,EAAKe,SAAS,iBAAiB,YAA/C,SAA6Df,EAAKe,WAClE,2DACA,qBAAMqC,KAAK,eAAemC,UAAU,aAAaI,cAAe,CAAEC,UAAU,GAASjB,SAAUU,KAAKV,SAAUkB,KAAMR,KAAKQ,KAAzH,UACI,mBAAMC,KAAN,CAAW1C,KAAK,WAAW2C,MAAO,CAAC,CAAEC,UAAU,EAAMC,YAAY,EAAM/D,QAAS,8CAChF,CAAEgE,IAAK,EAAGhE,QAAS,yCACnB,CAAEiE,IAAK,GAAIjE,QAAS,0CACpB,CAAEkE,QAAS,kBAAmBlE,QAAS,yFAAqBmE,aAAa,OAHzE,SAII,oBAAOC,OAAQ,eAACC,EAAA,EAAD,CAAchB,UAAU,wBAA0BiB,YAAY,yBAGjF,mBAAMV,KAAN,CAAW1C,KAAK,WAAW2C,MAAO,CAAC,CAAEC,UAAU,EAAM9D,QAAS,+BAAiC,CAC3FuE,UAAWpB,KAAKL,cADpB,SAGI,oBAAOsB,OAAQ,eAACI,EAAA,EAAD,CAAcnB,UAAU,wBAA0B1E,KAAK,WAAW2F,YAAY,mBAGjG,mBAAMV,KAAN,UACI,oBAAQjF,KAAK,UAAU8F,SAAS,SAASpB,UAAU,oBAAnD,yC,GAlDRqB,aA4DLC,gBACX,SAAAlG,GAAK,MAAG,CAACX,KAAKW,EAAMX,QACpB,CAAC+E,MDzDc,SAACf,EAASC,GAAY,8CAAO,WAAM6C,GAAN,mBAAAjC,EAAA,sEACvBd,GAASC,EAASC,GADK,OAEzB,KADb8C,EADsC,QAElC7D,QACAlD,EAAK+G,EAAOjG,KAClBf,EAASC,GACT8G,EAASvC,GAAYvE,MAEfgH,EAAID,EAAOC,IACjBF,EAX+B,CAACjG,KAAKR,EAAeU,SAW9BiG,KARkB,2CAAP,wDCuD1BH,CAGbnC,I,8HCPauC,GAxDE,CAAC,CACVC,MAAO,eACPC,IAAK,QACLC,KAAM,eAAEC,GAAA,EAAF,IACNC,UAAS,GAEb,CACIJ,MAAO,eACPC,IAAK,YACLC,KAAM,eAAEG,GAAA,EAAF,IACNC,SAAU,CACN,CACIN,MAAO,2BACPC,IAAK,YACLC,KAAM,eAAEK,GAAA,EAAF,KAEV,CACIP,MAAO,2BACPC,IAAK,WACLC,KAAM,eAAEM,GAAA,EAAF,OAIlB,CACIR,MAAO,2BACPC,IAAK,QACLC,KAAM,eAAEb,EAAA,EAAF,KAEV,CACIW,MAAO,2BACPC,IAAK,QACLC,KAAM,eAAEO,GAAA,EAAF,KAEV,CACIT,MAAO,2BACPC,IAAK,UACLC,KAAM,eAAEQ,GAAA,EAAF,IACNJ,SAAU,CAAC,CACHN,MAAO,qBACPC,IAAK,cACLC,KAAM,eAAEK,GAAA,EAAF,KAEV,CACIP,MAAO,qBACPC,IAAK,eACLC,KAAM,eAAES,GAAA,EAAF,KAEV,CACIX,MAAO,eACPC,IAAK,cACLC,KAAM,eAAEU,GAAA,EAAF,QClDdC,GAAR,KAAQA,QAGFC,G,4MACFC,QAAU,SAACC,GACP,IAAQf,EAAkBe,EAAlBf,IAAKG,EAAaY,EAAbZ,SACPa,EAAQ,EAAKrD,MAAM9E,KAAK8D,KAAKqE,MAEnC,QAAiB,SADA,EAAKrD,MAAM9E,KAAK8D,KAAKE,WACXsD,IAAoC,IAAxBa,EAAMC,QAAQjB,MAE1Ce,EAAKV,WACHU,EAAKV,SAASa,MAAK,SAAAC,GAAK,OAAkC,IAA9BH,EAAMC,QAAQE,EAAMnB,aADtD,I,EAMXoB,aAAe,SAACtB,GACZ,IAAMuB,EAAO,EAAK1D,MAAM2D,SAASC,SACjC,OAAOzB,EAAS0B,QAAO,SAACC,EAAKV,GACrB,EAAKD,QAAQC,KAERA,EAAKV,UAQQU,EAAKV,SAASa,MAAK,SAAAQ,GAAK,OAAgC,IAA5BL,EAAKJ,QAAQS,EAAM1B,UAEzD,EAAK2B,QAAUZ,EAAKf,KAExByB,EAAIG,KAAM,eAAChB,GAAD,CAAwBX,KAAMc,EAAKd,KAAMF,MAAOgB,EAAKhB,MAArD,SACL,EAAKqB,aAAaL,EAAKV,WADJU,EAAKf,QAX1Be,EAAKf,MAAMqB,GAA+B,IAAzBA,EAAKJ,QAAQF,EAAKf,MAClC,EAAKrC,MAAMR,aAAa4D,EAAKhB,OAEjC0B,EAAIG,KAAM,oBAAMjD,KAAN,CAA0BsB,KAAMc,EAAKd,KAArC,SACN,eAAC,IAAD,CAAS9B,GAAI4C,EAAKf,IAAM6B,QAAS,kBAAI,EAAKlE,MAAMR,aAAa4D,EAAKhB,QAAlE,SAA2EgB,EAAKhB,SAD1DgB,EAAKf,QAavC,OAAOyB,IACR,K,+DAEP,WACIvD,KAAK4D,UAAY5D,KAAKkD,aAAatB,M,oBAEvC,WACI,IAAIuB,EAAOnD,KAAKP,MAAM2D,SAASC,SAI/B,OAHiC,IAA7BF,EAAKJ,QAAQ,cACbI,EAAO,YAGP,uBAAKjD,UAAU,WAAf,UACI,gBAAC,IAAD,CAASD,GAAG,IAAIC,UAAU,kBAA1B,UACI,sBAAKC,IAAKC,EAAMC,IAAI,SACpB,8DAEJ,qBAAMwD,KAAK,SAASC,MAAM,OAAOC,aAAc,CAACZ,GAAOa,gBAAiB,CAAChE,KAAKyD,SAA9E,SAEQzD,KAAK4D,mB,GAtDPrC,aA8DPC,gBACX,SAAAlG,GAAK,MAAG,CAACX,KAAKW,EAAMX,QACpB,CAACsE,iBAFUuC,CAGbyC,YAAWtB,K,yBC/EN,SAASuB,GAAYC,GACxB,IAAKA,EAAM,MAAO,GAClB,IAAIC,EAAO,IAAIC,KAAKF,GACpB,OAAOC,EAAKE,cAAgB,KAAOF,EAAKG,WAAW,GAAK,IAAMH,EAAKI,UAAY,IAAMJ,EAAKK,WAAa,IAAML,EAAKM,aAAe,IAAMN,EAAKO,aAAe,iBAASP,EAAKQ,S,qBCD9J,SAASC,GAAWpF,GAC/B,OAAO,mDAAYA,GAAZ,IAAmBS,UAAU,iBCQxC,IAAQ4E,GAAR,KAAQA,QAMFC,G,4MACFzJ,MAAQ,CAAE0J,KAAM,GAAIC,QAAS,GAAIC,YAAa,GAAIC,YAAajB,GAAYG,KAAKe,Q,EAOhFC,QAAU,WACN,EAAKC,YAAcC,aAAY,WAC3B,IAAMJ,EAAcjB,GAAYG,KAAKe,OACrC,EAAKI,SAAS,CAAEL,kBACjB,M,EAEPM,WAAa,WACT,EAAKC,YAAcH,YAAW,sBAAC,8BAAA/F,EAAA,sEACRV,KADQ,cACrBkG,EADqB,gBAELjG,GAAWiG,EAAKhG,QAFX,OAErBiG,EAFqB,OAG3B,EAAKO,SAAS,CAAER,KAAMC,EAAQU,MAAM,GAAGX,KAAMC,QAASA,EAAQU,MAAM,GAAGV,QAASC,YAAaD,EAAQU,MAAM,GAAGT,cAHnF,2CAI5B,O,EAGPU,SAAW,WACP,IACI/D,EADEsB,EAAO,EAAK1D,MAAM2D,SAASC,SAYjC,OAVAzB,GAASiE,SAAQ,SAAAhD,GACb,GAAIA,EAAKf,MAAQqB,EACbtB,EAAQgB,EAAKhB,WACV,GAAIgB,EAAKV,SAAU,CACtB,IAAMqB,EAAQX,EAAKV,SAASa,MAAK,SAAAQ,GAAK,OAA8B,IAA1BL,EAAKJ,QAAQS,EAAM1B,QACzD0B,IACA3B,EAAQ2B,EAAM3B,WAInBA,G,EAaXiE,YAAc,WACVhB,GAAQ,CACJjD,MAAO,uCACPE,KAAM,eAACgE,GAAA,EAAD,IACNC,KAAM,WACF,EAAKvG,MAAMN,a,sGAlDvB,8BAAAK,EAAA,sEACuBV,KADvB,cACUkG,EADV,gBAE0BjG,GAAWiG,EAAKhG,QAF1C,OAEUiG,EAFV,OAGIjF,KAAKwF,SAAS,CAAER,KAAMC,EAAQU,MAAM,GAAGX,KAAMC,QAASA,EAAQU,MAAM,GAAGV,QAASC,YAAaD,EAAQU,MAAM,GAAGT,cAHlH,gD,qFAmCA,WACIlF,KAAKqF,UACLrF,KAAKyF,e,kCAGT,WACIQ,cAAcjG,KAAKsF,aACnBW,cAAcjG,KAAK0F,e,oBAYvB,WACI,IAAM/G,EAAWqB,KAAKP,MAAM9E,KAAKgE,SAC3BkD,EAAO7B,KAAKP,MAAMpE,UACxB,OACI,uBAAK6E,UAAU,SAAf,UACI,uBAAKA,UAAU,aAAf,UACI,uDAAUvB,KACV,eAAC,GAAD,CAAYgF,QAAS3D,KAAK8F,YAA1B,6BAEJ,uBAAK5F,UAAU,gBAAf,UACI,sBAAKA,UAAU,qBAAf,SAAqC2B,IACrC,uBAAK3B,UAAU,sBAAf,UACI,gCAAOF,KAAK1E,MAAM6J,cAClB,sBAAKhF,IAAI,2DAA2DE,IAAI,SACxE,iDAASL,KAAK1E,MAAM0J,KAApB,gBAA6BhF,KAAK1E,MAAM2J,QAAxC,gBAAoDjF,KAAK1E,MAAM4J,YAA/D,yB,GAvEH3D,aAgFNC,gBACX,SAAAlG,GAAK,MAAG,CAACD,UAAUC,EAAMD,UAAUV,KAAKW,EAAMX,QAC9C,CAACwE,WAFUqC,CAGbyC,YAAWc,K,0ECjGPtE,GAAO,IAAKA,KACZyF,GAAS,KAAOA,OAEDC,G,4MAKjBC,QAAQC,IAAMC,Y,uDAJd,WACItG,KAAKP,MAAM8G,QAAQvG,KAAKoG,QAAQI,W,oBAIpC,WACI,OACI,qBAAMC,IAAKzG,KAAKoG,QAAhB,UACI,eAAC3F,GAAD,CAAM1C,KAAK,WAAWiD,aAAchB,KAAKP,MAAM1C,SAA/C,SACI,gCACI,eAACmJ,GAAD,CAAQrG,MAAM,IAAd,sCACCG,KAAKP,MAAMiH,UAAUC,KAAI,SAACC,GACvB,OAAO,eAACV,GAAD,CAAoBrG,MAAO+G,EAAE1I,IAA7B,SAAmC0I,EAAE7I,MAAxB6I,EAAE1I,aAKlC,eAACuC,GAAD,CAAMC,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,qDAAckB,KAAK,eAAeiD,aAAa,GAApF,SACI,oBAAOG,YAAY,wD,GAnBFI,aCHhBsF,G,4MAEjBT,QAAQC,IAAMC,Y,uDAEd,WACItG,KAAKP,MAAM8G,QAAQvG,KAAKoG,QAAQI,W,oBAGpC,WACI,IAAOvJ,EAAc+C,KAAKP,MAAnBxC,aACP,OACI,oBAAMwJ,IAAKzG,KAAKoG,QAAhB,SACI,mBAAM3F,KAAN,CAAWC,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,qDAAckB,KAAK,eAAeiD,aAAc/D,EAA1F,SACI,oBAAOc,KAAK,eAAgBoD,YAAY,uD,GAbpBI,aCKnBuF,G,4MACjBxL,MAAQ,CACJyL,SAAS,EACTL,UAAW,GACX3J,SAAU,IACViK,WAAY,GACZC,aAAc,GACdC,WAAY,G,EAEhBC,WAAa,WACT,EAAKC,QAAU,CACX,CACIvF,MAAO,2BACPwF,UAAW,QAEf,CACIxF,MAAO,eACPyF,MAAO,MACPC,OAAQ,SAACC,GAAD,OAAe,kCACnB,eAAC,GAAD,CAAY7D,QAAS,kBAAM,EAAK8D,WAAWD,IAA3C,sCADmB,mBAGM,MAAxB,EAAKlM,MAAMyB,SAAmB,eAAC,GAAD,CAAY4G,QAAS,kBAAM,EAAK+D,iBAAiBF,IAAjD,4CAAiF,Y,EAMhIE,iBAAmB,SAACF,GAChB,EAAKhC,SAAS,CACVzI,SAAUyK,EAAStJ,IACnB8I,WAAYQ,EAASzJ,OACtB,WACC,EAAK4J,mB,EAMbA,a,uCAAe,WAAO5K,GAAP,eAAAyC,EAAA,6DACX,EAAKgG,SAAS,CAAEuB,SAAS,IACzBhK,EAAWA,GAAY,EAAKzB,MAAMyB,SAFvB,SAGUD,EAAaC,GAHvB,OAGL2E,EAHK,OAIX,EAAK8D,SAAS,CAAEuB,SAAS,IACH,IAAlBrF,EAAO7D,OACU,MAAbd,EACA,EAAKyI,SAAS,CAAEkB,UAAWhF,EAAOjG,OAElC,EAAK+J,SAAS,CAAEyB,aAAcvF,EAAOjG,OAIzCoB,EAAA,EAAQD,MAAM,oDAbP,2C,wDAgBf6K,WAAa,SAACD,GACV,EAAKA,SAAWA,EAChB,EAAKhC,SAAS,CAAE0B,WAAY,K,EAEhCU,QAAU,WACN,EAAKpC,SAAS,CAAE0B,WAAY,K,EAEhCW,YAAc,WACV,EAAKrH,KAAKsH,iBAAiBrL,KAA3B,uCAAgC,WAAO8C,GAAP,iBAAAC,EAAA,sDAC5B,EAAKgG,SAAS,CAAE0B,WAAY,IACpBnK,EAA2BwC,EAA3BxC,SAAUE,EAAiBsC,EAAjBtC,aAClB8K,QAAQC,IAAIjL,EAAUE,GACtBD,EAAeC,EAAcF,GACzBA,IAAa,EAAKzB,MAAMyB,SACxB,EAAK4K,eACe,MAAb5K,GACP,EAAK4K,aAAa,KARM,2CAAhC,kCAAA3H,KAAA,gBAUGrD,OAAM,SAACC,GACNmL,QAAQC,IAAIpL,O,EAGpBqL,eAAiB,WACb,EAAKzH,KAAKsH,iBAAiBrL,KAA3B,uCAAgC,WAAO8C,GAAP,iBAAAC,EAAA,sDAE5B,EAAKgG,SAAS,CAAE0B,WAAY,IAEtB/J,EAAa,EAAKqK,SAAStJ,IACzBjB,EAAiBsC,EAAjBtC,aACRC,EAAkB,CAAEC,aAAYF,iBAChC,EAAK0K,eAPuB,2CAAhC,kCAAA3H,KAAA,gBAUGrD,OAAM,SAACC,GACNmL,QAAQC,IAAIpL,O,EAIpBsL,aAAe,WACX,EAAK1C,SAAS,CAAE0B,WAAY,K,EAUhCiB,cAAgB,WACZ,EAAK3C,SAAS,CAAEzI,SAAU,IAAKiK,WAAY,GAAIC,aAAc,M,+DAPjE,WACIjH,KAAKmH,e,+BAET,WACInH,KAAK2H,iB,oBAMT,WAAU,IAAD,OACL,EAA+E3H,KAAK1E,MAA5EoL,EAAR,EAAQA,UAAW3J,EAAnB,EAAmBA,SAAUgK,EAA7B,EAA6BA,QAASE,EAAtC,EAAsCA,aAAcD,EAApD,EAAoDA,WAAYE,EAAhE,EAAgEA,WAC1DM,EAAYxH,KAAKwH,UAAY,GAC7BY,EAAS,oBAAQ5M,KAAK,UAAUuG,KAAM,eAACsG,GAAA,EAAD,IAAkB1E,QAAS3D,KAAK4H,QAASU,MAAO,CAAChB,MAAM,KAApF,0BACTzF,EAAqB,MAAb9E,EAAmB,uCAC7B,kCACI,eAAC,GAAD,CAAY4G,QAAS3D,KAAKmI,cAA1B,kDACA,eAACI,GAAA,EAAD,CAAoBD,MAAO,CAAEE,YAAa,KAC1C,gCAAOxB,OAEf,OACI,sBAAMnF,MAAOA,EAAOuG,MAAOA,EAAOE,MAAO,CAAEhB,MAAO,QAAlD,UACI,qBAAOP,QAASA,EAAS0B,OAAO,MAAMC,WAAyB,MAAb3L,EAAmB2J,EAAYO,EAC7E0B,UAAQ,EAACvB,QAASpH,KAAKoH,QAASwB,WAAY,CAAEC,gBAAiB,EAAGC,iBAAiB,KACvF,qBAAOC,gBAAc,EAAClH,MAAM,2BAAOmH,QAAwB,IAAf9B,EAAkBlB,KAAMhG,KAAK6H,YAAaoB,SAAUjJ,KAAKkI,aAArG,SACI,eAAC,GAAD,CAASxB,UAAWA,EAAW3J,SAAUA,EAAUwJ,QAAS,SAAC/F,GAAW,EAAKA,KAAOA,OAExF,qBAAOuI,gBAAc,EAAClH,MAAM,2BAAOmH,QAAwB,IAAf9B,EAAkBlB,KAAMhG,KAAKiI,eAAgBgB,SAAUjJ,KAAKkI,aAAxG,SACI,eAAC,GAAD,CAAYjL,aAAcuK,EAASzJ,KAAMwI,QAAS,SAAC/F,GAAW,EAAKA,KAAOA,c,GA7HxDe,aCLzB2H,GAAa,gCCCLC,G,4MAKjB/C,QAAQC,IAAMC,Y,uDAJd,WACItG,KAAKP,MAAM8G,QAAQvG,KAAKoG,QAAQI,W,oBAIpC,WACI,MAAmBxG,KAAKP,MAAjB2J,EAAP,EAAOA,MAAMzO,EAAb,EAAaA,KAEb,OACI,6CAAM8L,IAAKzG,KAAKoG,SAFL,CAACiD,SAAU,CAACC,KAAM,GAAGC,WAAY,CAACD,KAAM,MAEnD,cACI,mBAAM7I,KAAN,CAAW+I,MAAM,sBAAO9I,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,+CAAakB,KAAK,WAAWiD,aAAcrG,EAAKgE,SAAvG,SACI,oBAAOwC,YAAY,2CAEtBxG,EAAKuD,IAAK,mBAAMuC,KAAN,CAAW+I,MAAM,gBAAM9I,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,yCAAYkB,KAAK,WAAWiD,aAAcrG,EAAKiE,SAArG,SACP,oBAAOuC,YAAY,qCACR,mBAAMV,KAAN,CAAW+I,MAAM,gBAAM9I,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,yCAAYkB,KAAK,WAAWiD,aAAcrG,EAAKiE,SAArG,SACX,oBAAOpD,KAAK,WAAY2F,YAAY,qCAExC,mBAAMV,KAAN,CAAW+I,MAAM,sBAAO9I,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,+CAAakB,KAAK,QAAQiD,aAAcrG,EAAK8O,MAApG,SACI,oBAAOtI,YAAY,2CAEvB,mBAAMV,KAAN,CAAW+I,MAAM,gBAAM9I,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,yCAAYkB,KAAK,QAAQiD,aAAcrG,EAAK+O,MAAlG,SACI,oBAAOvI,YAAY,qCAEvB,mBAAMV,KAAN,CAAW+I,MAAM,gBAAM9I,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,+CAAakB,KAAK,UAAUiD,aAAcrG,EAAKgP,QAArG,SACI,8BAEQP,EAAMzC,KAAI,SAAClI,GAAD,OACN,oBAAQyH,OAAR,CAA8BrG,MAAOpB,EAAKP,IAA1C,SAAgDO,EAAKV,MAAjCU,EAAKP,oB,GA7BnB0L,iBCOjBC,G,4MACjBvO,MAAM,CAACwO,MAAM,GAAGC,QAAO,EAAMX,MAAM,I,EAEnCY,YAAY,WACR,EAAK5C,QAAQ,CACT,CAACvF,MAAM,qBACPwF,UAAU,YACV,CAACxF,MAAM,eACPwF,UAAU,SACV,CAACxF,MAAM,eACPwF,UAAU,SACV,CAACxF,MAAM,2BACPwF,UAAU,cACVE,OAAOrD,IACP,CAACrC,MAAM,2BACPwF,UAAU,UACVE,OAAO,SAACoC,GAAD,OAAW,EAAKM,UAAUN,KACjC,CAAC9H,MAAM,eACP0F,OAAO,SAAC5M,GAAD,OAAS,kCACZ,eAAC,GAAD,CAAYgJ,QAAS,WAAK,EAAK8D,WAAW9M,IAA1C,0BACA,eAAC,GAAD,CAAYgJ,QAAS,WAAK,EAAKuG,WAAWvP,IAA1C,iC,EAIZwP,gB,sBAAiB,4BAAA3K,EAAA,6DACP7E,EAAK,EAAK6F,KAAK4J,iBACrB,EAAK5J,KAAK6J,cACP,EAAK1P,OACJA,EAAKuD,IAAI,EAAKvD,KAAKuD,KAJV,SAOMW,GAAmBlE,GAPzB,OAQO,IARP,OAQFkD,QACPhB,EAAA,EAAQyN,QAAR,UAAmB,EAAK3P,KAAK,eAAK,eAAlC,6BACA,EAAK6K,SAAS,CAACuE,QAAO,IACtB,EAAKQ,YAEL1N,EAAA,EAAQD,MAAR,UAAiB,EAAKjC,KAAK,eAAK,eAAhC,6BAbS,2C,EAiBjB8M,WAAW,SAAC9M,GACR,EAAKA,KAAKA,EACV,EAAK6K,SAAS,CAACuE,QAAO,K,EAG1BG,WAAW,SAACvP,GACR,KAAMmK,QAAQ,CACVjD,MAAM,iCAAD,OAAUlH,EAAKgE,SAAf,4BACLoD,KAAM,eAACgE,GAAA,EAAD,IACNC,KAAK,WAAD,4BAAC,sBAAAxG,EAAA,sEACkBpB,EAAczD,EAAKuD,KADrC,OAEkB,IAFlB,OAESL,QACNhB,EAAA,EAAQyN,QAAQ,wCAChB,EAAKC,YAEL1N,EAAA,EAAQD,MAAM,wCANjB,2CAAD,kDAAC,M,EAYbgL,QAAQ,WACJ,EAAKjN,KAAK,GACV,EAAK6K,SAAS,CAACuE,QAAO,K,EAG1BS,cAAc,SAACpB,GACX,IAAMa,EAAUb,EAAM9F,QAAO,SAACC,EAAI9E,GAE9B,OADA8E,EAAI9E,EAAKP,KAAKO,EAAKV,KACZwF,IACT,IACF,EAAK0G,UAAUA,G,EAInBM,S,sBAAS,kCAAA/K,EAAA,sEACcrB,IADd,OAEc,KADbuD,EADD,QAEK7D,SAAY,EACC6D,EAAOjG,KAApBqO,EADW,EACXA,MAAMV,EADK,EACLA,MACZ,EAAKoB,cAAcpB,GACnB,EAAK5D,SAAS,CAACsE,QAAMV,WALpB,2C,+DAST,WACIpJ,KAAKgK,gB,+BAGT,WACIhK,KAAKuK,a,oBAET,WAAU,IAAD,OACL,EAA2BvK,KAAK1E,MAAzBwO,EAAP,EAAOA,MAAMC,EAAb,EAAaA,OAAOX,EAApB,EAAoBA,MACdzO,EAAKqF,KAAKrF,MAAM,GAChBkH,EAAO,oBAAQrG,KAAK,UAAUmI,QAAS3D,KAAK4H,QAArC,sCACb,OACI,sBAAM/F,MAAOA,EAAb,UACI,qBACA4G,OAAO,MACPC,WAAYoB,EACZnB,UAAQ,EACRvB,QAASpH,KAAKoH,QACdwB,WAAY,CAAEC,gBFhHP,EEgHmCC,iBAAiB,KAE3D,qBACAC,gBAAgB,EAChBlH,MAAOlH,EAAKuD,IAAM,2BAAS,2BAC3B8K,QAASe,EACT/D,KAAMhG,KAAKmK,gBACXlB,SAAU,WACN,EAAKzI,KAAK6J,cACV,EAAK7E,SAAS,CAACuE,QAAO,KAP1B,SAQI,eAAC,GAAD,CAAUxD,QAAS,SAAA/F,GAAI,OAAE,EAAKA,KAAKA,GAAM4I,MAAOA,EAAOzO,KAAMA,a,GAjH/C4G,a,UCNbkJ,G,4MAEjBnP,MAAQ,CACJoP,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAC3BC,OAAQ,CAAC,EAAG,EAAG,GAAI,EAAG,GAAI,K,EAE9BC,OAAO,WACH,EAAKpF,UAAS,SAAAlK,GAAK,MAAG,CAClBoP,MAAMpP,EAAMoP,MAAM/D,KAAI,SAAAkE,GAAI,OAAEA,EAAK,KACjCF,OAAOrP,EAAMqP,OAAOrH,QAAO,SAACC,EAAI3I,GAE5B,OADA2I,EAAIG,KAAK9I,EAAM,GACR2I,IACT,S,EAGVuH,UAAY,SAACJ,EAAMC,GACf,MAAO,CACH9I,MAAO,CACHkJ,KAAM,oCAEVC,QAAS,GACTC,OAAQ,CACJxP,KAAM,CAAC,eAAM,iBAEjByP,MAAO,CACHzP,KAAM,CAAC,eAAM,qBAAO,qBAAO,eAAM,qBAAO,iBAE5C0P,MAAO,GACPC,OAAQ,CAAC,CACLrN,KAAM,eACNvC,KAAM,MACNC,KAAMiP,GAEV,CACI3M,KAAM,eACNvC,KAAM,MACNC,KAAMkP,M,4CAKlB,WACI,MAAqB3K,KAAK1E,MAAnBoP,EAAP,EAAOA,MAAMC,EAAb,EAAaA,OACb,OACI,iCACI,8BACI,oBAAQnP,KAAK,UAAUmI,QAAS3D,KAAK4K,OAArC,4BAEJ,qBAAM/I,MAAM,2BAAZ,SACI,eAAC,KAAD,CAAcwJ,OAAQrL,KAAK8K,UAAUJ,EAAMC,c,GAjD9BpJ,aCAZ+J,G,4MACjBC,WAAa,WACT,MAAO,CACHC,gBAAiB,UAEjB3J,MAAO,CACHkJ,KAAM,iBACNU,KAAM,SACNC,IAAK,GACLC,UAAW,CACPC,MAAO,SAIfZ,QAAS,CACLa,QAAS,QAGbC,UAAW,CACPC,MAAM,EACNlL,IAAK,GACLC,IAAK,IACLkL,QAAS,CACLC,eAAgB,CAAC,EAAG,KAG5Bb,OAAQ,CACJ,CACIrN,KAAM,2BACNvC,KAAM,MACN0Q,OAAQ,MACRC,OAAQ,CAAC,MAAO,OAChB1Q,KAAM,CACF,CAAEoE,MAAO,IAAK9B,KAAM,4BACpB,CAAE8B,MAAO,IAAK9B,KAAM,4BACpB,CAAE8B,MAAO,IAAK9B,KAAM,4BACpB,CAAE8B,MAAO,IAAK9B,KAAM,4BACpB,CAAE8B,MAAO,IAAK9B,KAAM,6BACtBqO,MAAK,SAAU5M,EAAG6M,GAAK,OAAO7M,EAAEK,MAAQwM,EAAExM,SAC5CyM,SAAU,SACV9C,MAAO,CACHoC,MAAO,4BAEXW,UAAW,CACPC,UAAW,CACPZ,MAAO,4BAEXa,OAAQ,GACR3M,OAAQ,GACR4M,QAAS,IAEbC,UAAW,CACPf,MAAO,UACPgB,WAAY,IACZC,YAAa,sBAGjBC,cAAe,QACfC,gBAAiB,aACjBC,eAAgB,SAAUC,GACtB,OAAuB,IAAhBC,KAAKC,c,EAOhCC,WAAa,WACT,MAAO,CACHvL,MAAO,CACHkJ,KAAM,yDACNsC,QAAS,2BACT5B,KAAM,UAEVT,QAAS,CACLa,QAAS,QAEbZ,OAAQ,CACJqC,OAAQ,WACR7B,KAAM,QAEVL,OAAQ,CACJ,CACIrN,KAAM,2BACNvC,KAAM,MACN0Q,OAAQ,MACRzQ,KAAM,CACF,CAACoE,MAAO,KAAM9B,KAAM,4BACpB,CAAC8B,MAAO,IAAK9B,KAAM,4BACnB,CAAC8B,MAAO,IAAK9B,KAAM,4BACnB,CAAC8B,MAAO,IAAK9B,KAAM,4BACnB,CAAC8B,MAAO,IAAK9B,KAAM,6BAEvBwP,SAAU,CACNZ,UAAW,CACPC,WAAY,GACZY,cAAe,EACfX,YAAa,2B,4CAOrC,WACI,OACI,iCACI,qBAAMhL,MAAM,qBAAZ,SACI,eAAC,KAAD,CAAcwJ,OAAQrL,KAAKuL,iBAE/B,qBAAM1J,MAAM,qBAAZ,SACI,eAAC,KAAD,CAAcwJ,OAAQrL,KAAKoN,wB,GA/Gd7L,aCAZkM,G,4MAEjBnS,MAAQ,CACJoP,MAAO,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAC3BC,OAAQ,CAAC,EAAG,EAAG,GAAI,EAAG,GAAI,K,EAE9BC,OAAO,WACH,EAAKpF,UAAS,SAAAlK,GAAK,MAAG,CAClBoP,MAAMpP,EAAMoP,MAAM/D,KAAI,SAAAkE,GAAI,OAAEA,EAAK,KACjCF,OAAOrP,EAAMqP,OAAOrH,QAAO,SAACC,EAAI3I,GAE5B,OADA2I,EAAIG,KAAK9I,EAAM,GACR2I,IACT,S,EAGVuH,UAAY,SAACJ,EAAMC,GACf,MAAO,CACH9I,MAAO,CACHkJ,KAAM,oCAEVC,QAAS,GACTC,OAAQ,CACJxP,KAAM,CAAC,eAAM,iBAEjByP,MAAO,CACHzP,KAAM,CAAC,eAAM,qBAAO,qBAAO,eAAM,qBAAO,iBAE5C0P,MAAO,GACPC,OAAQ,CAAC,CACLrN,KAAM,eACNvC,KAAM,OACNC,KAAMiP,GAEV,CACI3M,KAAM,eACNvC,KAAM,OACNC,KAAMkP,M,4CAKlB,WACI,MAAqB3K,KAAK1E,MAAnBoP,EAAP,EAAOA,MAAMC,EAAb,EAAaA,OACb,OACI,iCACI,8BACI,oBAAQnP,KAAK,UAAUmI,QAAS3D,KAAK4K,OAArC,4BAEJ,qBAAM/I,MAAM,2BAAZ,SACI,eAAC,KAAD,CAAcwJ,OAAQrL,KAAK8K,UAAUJ,EAAMC,c,GAjD7BpJ,a,mHCG1BmM,GAAR,KAAQA,YAKaC,G,4JAEjB,WAEI,IAqIMC,EAAU,qBAAItF,MAAO,CAAEuF,SAAU,IAAvB,6BACVC,EAAU,uBAAK5N,UAAU,SAAf,UAAwB,qBAAIoI,MAAO,CAAEuF,SAAU,IAAvB,sEACpC,eAACH,GAAD,CACIpF,MAAO,CAAEhB,MAAO,IAAKyG,OAAQ,IAC7BC,aAAc,CAACC,KAAO,aAAc,cAAeA,KAAO,aAAc,eACxEC,OAAQ,kBAchB,OACI,uBAAKhO,UAAU,OAAf,UACI,uBAAKA,UAAU,MAAf,UACI,sBAAM2B,MAAM,2BAAOyG,MAAO,CAAEhB,MAAO,IAAKyG,OAAQ,IAAKI,OAAQ,IAA7D,UACI,qBACItM,MAAO+L,EACP/N,MAAM,wBACNuO,UAAW,EACXC,WAAY,CAAEzC,MAAO,WACrB0C,OAAQ,eAACC,GAAA,EAAD,MAEZ,qBACI1O,MAAO,uBACPuO,UAAW,EACXC,WAAY,CAAEzC,MAAO,WACrB0C,OAAQ,eAACE,GAAA,EAAD,SAGhB,gBAAC,SAAD,CAAOC,MAhDL,CACVvJ,YAAa,CAAErE,IAAK,GACpBmE,KAAM,CACF0J,UAAW,SAAAC,GACP,MAAO,CACHC,OAAQ,eACRC,MAAO,gBACTF,MAyCmBG,QAAS,CAAC,GAAI,GAAI,GAAI,IAAKC,SAAO,EAACzH,MAAO,KAAMyG,OAAQ,IAAKtS,KA1KjF,CACT,CACIuT,MAAO,MACPhK,KAAM,QACNE,YAAa,GAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,KAEjB,CACI8J,MAAO,MACPhK,KAAM,QACNE,YAAa,KAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,KAEjB,CACI8J,MAAO,MACPhK,KAAM,QACNE,YAAa,KAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,KAEjB,CACI8J,MAAO,MACPhK,KAAM,QACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,KAEjB,CACI8J,MAAO,MACPhK,KAAM,QACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,QACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,QACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,IAEjB,CACI8J,MAAO,MACPhK,KAAM,QACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,QACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,QACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,QACNE,YAAa,MAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,KAEjB,CACI8J,MAAO,MACPhK,KAAM,QACNE,YAAa,KAEjB,CACI8J,MAAO,MACPhK,KAAM,SACNE,YAAa,MAmDqF+J,aAAc,CAAC,kBAA7G,UACI,eAAC,SAAD,CAAOC,SAAS,oBAAoBtD,MAAM,OAAOuD,MAAM,WACvD,eAAC,QAAD,CAAMA,MAAM,SAASD,SAAS,oBAAoBtD,MAAM,OAAOpC,MAAM,gBACrE,eAAC,WAAD,CAAS4F,QAAM,EAACC,gBAAc,IAC9B,eAAC,UAAD,CAAQC,WAAY,CAChBR,QAAS,CAAC,EAAG,IAAK,EAAG,IACrBxG,MAAO,CACHiH,KAAM,UACNC,OAAQ,iBAOxB,qBAAM3N,MAAOiM,EAAQxF,MAAO,CAAEhB,MAAO,KAAMyG,OAAQ,IAAMI,OAAQ,IAAjE,SACI,uBAAKjO,UAAU,SAAf,UACI,qBAAM2B,MAAM,2BAAOyG,MAAO,CAAEhB,MAAO,IAAKyG,OAAQ,IAAKI,OAAQ,IAA7D,SACI,gBAAC,SAAD,CAAOJ,OAAQ,IAAKgB,SAAO,EAACtT,KA/ClC,CACV,CAAEgU,KAAM,cAAU/E,MAAO,GACzB,CAAE+E,KAAM,cAAU/E,MAAO,IACzB,CAAE+E,KAAM,cAAU/E,MAAO,IACzB,CAAE+E,KAAM,cAAU/E,MAAO,IACzB,CAAE+E,KAAM,cAAU/E,MAAO,IACzB,CAAE+E,KAAM,cAAU/E,MAAO,IACzB,CAAE+E,KAAM,cAAU/E,MAAO,IACzB,CAAE+E,KAAM,cAAU/E,MAAO,KAuCT,UACI,eAAC,YAAD,CAAUwE,SAAS,eACnB,eAAC,WAAD,CAASE,QAAM,SAGvB,sBAAMvN,MAAM,eAAKyG,MAAO,CAAEhB,MAAO,IAAKyG,OAAQ,IAAKI,OAAQ,IAA3D,UACI,gCACI,oBAAU1N,KAAV,CAAemL,MAAM,QAArB,+CACA,oBAAUnL,KAAV,CAAemL,MAAM,QAArB,+CACA,qBAAUnL,KAAV,CAAemL,MAAM,MAArB,UACI,kEACA,kEACA,gFAEJ,qBAAUnL,KAAV,WACI,qDACA,qDACA,mEAEJ,qBAAUA,KAAV,CAAemL,MAAM,OAArB,UACI,qDACA,qDACA,mEAEJ,qBAAUnL,KAAV,CAAemL,MAAM,OAArB,UACI,qDACA,qDACA,sEAtBZ,mB,GArMUrK,a,2ECPbmO,G,kDAMnB,WAAYjQ,GAAO,IAAD,uBAChB,cAAMA,IANRnE,MAAQ,CACNqU,gBAAgB,EAChBC,aAAc,GACdC,SAAU,IAEM,EAmBlB3H,aAAe,kBAAM,EAAK1C,SAAS,CAAEmK,gBAAgB,KAnBnC,EAqBlBG,cArBkB,uCAqBF,WAAMC,GAAN,SAAAvQ,EAAA,sDACduI,QAAQC,IAAI+H,GACZ,EAAKvK,SAAS,CACZoK,aAAcG,EAAK9T,KAAO8T,EAAKC,SAC/BL,gBAAgB,IAJJ,2CArBE,wDA6BlBM,QAAQ,WACN,OAAO,EAAK3U,MAAMuU,SAASlJ,KAAK,SAAAoJ,GAAI,OAAEA,EAAKhS,SA9B3B,EAgClBmS,aAhCkB,uCAgCH,uCAAA1Q,EAAA,yDAASuQ,EAAT,EAASA,KAAKF,EAAd,EAAcA,SAEV,SAAdE,EAAKlS,OAFK,gBAIQ,KADb6D,EAAOqO,EAAKrT,UACRmB,QACRhB,EAAA,EAAQyN,QAAQ,wCADG,EAEF5I,EAAOjG,KAAjBsC,EAFY,EAEZA,KAAK9B,EAFO,EAEPA,KACZ8T,EAAKF,EAASA,EAAS/P,OAAO,IACzB/B,KAAKA,EACVgS,EAAK9T,IAAIA,GAETY,EAAA,EAAQD,MAAM,wCAXL,0BAaU,YAAdmT,EAAKlS,OAbD,iCAcSC,EAAaiS,EAAKhS,MAd3B,OAeQ,IAfR,OAeDF,OACRhB,EAAA,EAAQyN,QAAQ,wCAEhBzN,EAAA,EAAQyN,QAAQ,wCAlBP,QAsBb,EAAK9E,SAAS,CAAEqK,aAtBH,4CAhCG,sDAEhB,IAAIA,EAAS,GACNM,EAAM,EAAK1Q,MAAX0Q,KAHS,OAIbA,GAAMA,EAAKrQ,OAAO,IACnB+P,EAAWM,EAAKxJ,KAAI,SAACyJ,EAAIC,GAAL,MAAc,CAChCC,KAAMD,EACNtS,KAAMqS,EACNvS,OAAQ,OACR5B,IAAKiN,GAAakH,OAGtB,EAAK9U,MAAM,CACTqU,gBAAgB,EAChBC,aAAc,GACdC,YAfc,E,0CAyDlB,WACE,MAAkD7P,KAAK1E,MAA/CqU,EAAR,EAAQA,eAAgBC,EAAxB,EAAwBA,aAAcC,EAAtC,EAAsCA,SAChCU,EAAgB,iCAAK,eAAClI,GAAA,EAAD,IAAgB,sBAAKC,MAAO,CAAEkI,UAAW,GAAzB,uBAC3C,OACE,iCACE,qBACEjV,OAAO,qBACPkV,OAAO,UACP1S,KAAK,QACL2S,SAAS,eACTb,SAAUA,EACVc,UAAW3Q,KAAK8P,cAChBc,SAAU5Q,KAAKkQ,aAPjB,SAQGL,EAAS/P,QAAU,EAAI,KAAOyQ,IAGjC,qBACEvH,QAAS2G,EACTkB,OAAQ,KACR5H,SAAUjJ,KAAKkI,aAHjB,SAIE,sBAAK7H,IAAI,UAAUiI,MAAO,CAAEhB,MAAO,QAAUnH,IAAKyP,a,GAnFlBrO,a,uECErBuP,G,kDACjB,WAAYrR,GAAQ,IAAD,uBACf,cAAMA,IAYVsR,oBAAsB,SAACC,GACrB,EAAKxL,SAAS,CACZwL,iBAfe,EAkBrBC,UAAU,WACN,OAAQC,KAAYC,wBAAa,EAAK7V,MAAM0V,YAAYI,uBAnBvC,EAsBrBC,oBAAoB,SAACtB,GACnB,OAAO,IAAI5T,SACT,SAACC,EAASC,GACR,IAAMiV,EAAM,IAAIC,eAChBD,EAAIE,KAAK,OAAQ,sBACjB,IAAM/V,EAAO,IAAIgW,SACjBhW,EAAKiW,OAAO,QAAS3B,GACrBuB,EAAIK,KAAKlW,GACT6V,EAAIM,iBAAiB,QAAQ,WAC3B,IACM3V,EADW4V,KAAKC,MAAMR,EAAIS,cACbtW,KAAKQ,IACxBG,EAAQ,CAACX,KAAK,CAACuW,KAAK/V,QAEtBqV,EAAIM,iBAAiB,SAAS,WAC5B,IAAMhV,EAAQiV,KAAKC,MAAMR,EAAIS,cAC7B1V,EAAOO,UAnCT,IAAMqV,EAAO,EAAKxS,MAAMyS,OACxB,GAAGD,EAAK,CACJ,IAAME,EAAeC,KAAYH,GAC3BI,EAAeC,gBAAaC,qBAAqBJ,EAAaK,eAC9DxB,EAAcyB,eAAYC,kBAAkBL,GAClD,EAAK/W,MAAQ,CAAC0V,oBAEd,EAAK1V,MAAM,CAAC0V,YAAayB,eAAYE,eAT1B,S,0CA4CrB,WACE,IAAQ3B,EAAgBhR,KAAK1E,MAArB0V,YACR,OACI,eAAC,UAAD,CACEA,YAAaA,EACb4B,YAAa,CAACC,OAAO,kBAAkBC,UAAU,IAAIC,YAAY,IACjEhC,oBAAqB/Q,KAAK+Q,oBAC1BiC,QAAS,CACPC,MAAO,CAAEC,eAAgBlT,KAAKqR,oBAAqBhR,IAAK,CAAE8S,SAAS,EAAMC,WAAW,W,GArDpD7R,aCH7B5G,GAJJ,CACPA,KAAK,GACLsD,QAAQ,ICMSoV,G,kDACjB,WAAY5T,GAAO,IAAD,8BACd,cAAMA,IAIVnE,MAAM,CAACgY,QAAQ,IALG,EAOlBC,YAPkB,uCAOL,WAAO7M,GAAP,2BAAAlH,EAAA,yDACH8T,EAAQ5M,EAAUC,KAAI,SAAAC,GAAC,MAAG,CAC5B/G,MAAM+G,EAAE1I,IACRsL,MAAM5C,EAAE7I,KACRyV,QAAO,MAJF,kBAMFC,EANE,EAMFA,SAASxV,EANP,EAMOA,QACTyV,EAAazV,EAAbyV,aACHD,GAAwB,IAAdC,EARL,iCASqB,EAAK/L,aAAa+L,GATvC,OASCzM,EATD,OAUC0M,EAAa1M,EAAaN,KAAI,SAAAC,GAAC,MAAG,CACpC/G,MAAM+G,EAAE1I,IACRsL,MAAM5C,EAAE7I,KACRyV,QAAO,MAEQF,EAAQtQ,MAAK,SAAAqI,GAAM,OAAEA,EAAOxL,QAAQ6T,KAC1CvR,SAASwR,EAhBjB,QAmBT,EAAKnO,SAAS,CAAC8N,YAnBN,4CAPK,wDA6BlB3L,aA7BkB,uCA6BH,WAAO5K,GAAP,iBAAAyC,EAAA,sEACU1C,EAAaC,GADvB,UAES,KADd2E,EADK,QAEA7D,OAFA,oBAGD6I,EAAWhF,EAAOjG,KACV,MAAXsB,EAJI,gBAKH,EAAKwW,YAAY7M,GALd,gDAQIA,GARJ,4CA7BG,wDAuDlBpH,SAvDkB,uCAuDR,WAAOC,GAAP,iCAAAC,EAAA,6DAECzB,EAA6BwB,EAA7BxB,KAAK6V,EAAwBrU,EAAxBqU,KAAKC,EAAmBtU,EAAnBsU,MAEO,KAFDC,EAAavU,EAAbuU,aAERhU,QACX4T,EAAY,IACZvW,EAAW2W,EAAY,KAEvBJ,EAAYI,EAAY,GACxB3W,EAAW2W,EAAY,IAErB3D,EAAK,EAAK4D,MAAMvN,QAAQyJ,UACxBiC,EAAO,EAAK8B,OAAOxN,QAAQyK,YAC3BhT,EAAQ,CAACF,OAAK6V,OAAKC,QAAM1D,OAAK+B,SAAO/U,aAAWuW,eAEnD,EAAKD,WACJxV,EAAQC,IAAI,EAAKD,QAAQC,KAE7B6J,QAAQC,IAAI/J,GAlBN,SAmBcD,EAAsBC,GAnBpC,OAmBAyD,EAnBA,OAoBNqG,QAAQC,IAAItG,GACO,IAAhBA,EAAO7D,QACNhB,EAAA,EAAQyN,QAAR,UAAmB,EAAKmJ,SAAS,eAAK,eAAtC,6BACA,EAAKhU,MAAMwU,QAAQC,UAEnBrX,EAAA,EAAQD,MAAR,UAAiB,EAAK6W,SAAS,eAAK,eAApC,6BAzBE,4CAvDQ,wDAqFlBrS,UAAU,SAACxB,EAAEC,GACT,OAAS,EAANA,GAAS,EACD1D,QAAQC,UAERD,QAAQE,OAAO,gDAzFZ,EA4FlB8X,SA5FkB,uCA4FP,WAAOC,GAAP,mBAAA5U,EAAA,6DACD6U,EAAeD,EAAgB,IACxBrN,SAAU,EAFhB,SAImB,EAAKY,aAAa0M,EAAaxU,OAJlD,OAIDoH,EAJC,OAKPoN,EAAatN,SAAU,EACpBE,GAAcA,EAAanH,OAAO,GAC3BwU,EAASrN,EAAaN,KAAI,SAAAC,GAAC,MAAG,CAChC/G,MAAM+G,EAAE1I,IACRsL,MAAM5C,EAAE7I,KACRyV,QAAO,MAEXa,EAAalS,SAASmS,GAEtBD,EAAab,QAAO,EAGxB,EAAKhO,SAAS,CAAC8N,QAAQ,aAAI,EAAKhY,MAAMgY,WAjB/B,2CA5FO,sDAEd,EAAKS,MAAM1N,IAAMC,YACjB,EAAK0N,OAAO3N,IAAMC,YAHJ,E,qDA2ClB,WACItG,KAAK2H,aAAa,O,kCAGtB,WACI4M,GAAYtW,QAAQ,K,uCAExB,WACI,IAAMA,EAAQsW,GAAYtW,QAC1B+B,KAAKyT,WAAWxV,EAAQC,IACxB8B,KAAK/B,QAAQA,GAAS,K,oBA2D1B,WAAU,IAAD,OACL,EAA2C+B,KAAK/B,QAAzCyV,EAAP,EAAOA,YAAYvW,EAAnB,EAAmBA,WAAWgT,EAA9B,EAA8BA,KAAK+B,EAAnC,EAAmCA,OAC7B4B,EAAY,GACf9T,KAAKyT,WACc,MAAdC,GAGAI,EAAYpQ,KAAKgQ,GAFjBI,EAAYpQ,KAAKvG,IAQzB,IAKM0E,EAAO,kCACT,eAAC,GAAD,CAAY8B,QAAS,WAAK,EAAKlE,MAAMwU,QAAQC,UAA7C,SAAwD,eAACM,GAAA,EAAD,CAAoBlM,MAAO,CAACuF,SAAS,GAAGjC,MAAM,uBACtG,eAAC,GAAD,UAAa5L,KAAKyT,SAAS,2BAAO,gCAItC,OACI,qBAAM5R,MAAOA,EAAb,SACI,+CAbO,CACXwH,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAWhB,IAAkBhK,SAAUU,KAAKV,SAAjC,UACI,mBAAMmB,KAAN,CAAW+I,MAAM,2BAAOzL,KAAK,OAAOiD,aAAchB,KAAK/B,QAAQF,KAAM2C,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,qDAApG,SACI,oBAAOsE,YAAY,iDAEvB,mBAAMV,KAAN,CAAW+I,MAAM,2BAAOxI,aAAchB,KAAK/B,QAAQ2V,KAAM7V,KAAK,OAAO2C,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,qDAApG,SACI,mBAAO4X,SAAP,CAAgBC,KAAM,EAAGvT,YAAY,iDAEzC,mBAAMV,KAAN,CAAW+I,MAAM,2BAAOxI,aAAchB,KAAK/B,QAAQ4V,MAAO9V,KAAK,QAAQ2C,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,oDAAY,CAACuE,UAAUpB,KAAKoB,YAAlI,SACI,oBAAO5F,KAAK,SAASmZ,WAAW,SAAKxT,YAAY,iDAErD,mBAAMV,KAAN,CAAW+I,MAAM,2BAAOxI,aAAc8S,EAAa/V,KAAK,cAAe2C,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,qDAAtG,SACI,qBAAUsE,YAAY,6CAAUmS,QAAStT,KAAK1E,MAAMgY,QAASa,SAAUnU,KAAKmU,aAEhF,mBAAM1T,KAAN,CAAW+I,MAAM,2BAAOzL,KAAK,OAA7B,SACI,eAAC,GAAD,CAAc0I,IAAKzG,KAAK+T,MAAO5D,KAAMA,MAEzC,mBAAM1P,KAAN,CAAW+I,MAAM,2BAAQH,SAAU,CAAEC,KAAM,GAAKC,WAAa,CAACD,KAAM,IAApE,SACI,eAAC,GAAD,CAAgB7C,IAAKzG,KAAKgU,OAAQ9B,OAAQA,MAE9C,mBAAMzR,KAAN,UACI,oBAAQ6H,MAAO,CAACsM,WAAW,KAAMpZ,KAAK,UAAU8F,SAAS,SAAzD,sC,GA/JsBC,a,sCCDzBsT,G,4MACjBvZ,MAAM,CAACwZ,OAAO,GACNC,OAAO,I,8FACf,0CAAAvV,EAAA,2DACmC+U,GAAYtW,QAApCyV,EADX,EACWA,YAAYvW,EADvB,EACuBA,WACF,MAAduW,EAFP,gCAG4BhW,EAAYP,GAHxC,OAGcuE,EAHd,OAIcoT,EAAOpT,EAAOjG,KAAKsC,KACzBiC,KAAKwF,SAAS,CAACsP,WALvB,wCAO4B3Y,QAAQ6Y,IAAI,CAACtX,EAAYgW,GAAahW,EAAYP,KAP9E,QAOcuE,EAPd,OAQcoT,EAAOpT,EAAO,GAAGjG,KAAKsC,KACtBgX,EAAOrT,EAAO,GAAGjG,KAAKsC,KAC5BiC,KAAKwF,SAAS,CAACsP,SAAOC,WAV9B,iD,wFAcA,WACIR,GAAYtW,QAAQ,K,oBAExB,WAAU,IAAD,OACL,EAAqB+B,KAAK1E,MAApBwZ,EAAN,EAAMA,OAAOC,EAAb,EAAaA,OACb,EAAoCR,GAAYtW,QAAzCF,EAAP,EAAOA,KAAK6V,EAAZ,EAAYA,KAAKC,EAAjB,EAAiBA,MAAM3B,EAAvB,EAAuBA,OAAO/B,EAA9B,EAA8BA,KACxBtO,EACF,kCACI,eAAC,GAAD,CAAY8B,QAAS,WAAK,EAAKlE,MAAMwU,QAAQC,UAA7C,SAAwD,eAACM,GAAA,EAAD,CAAmBlM,MAAO,CAACsD,MAAM,kBAAkBpD,YAAY,GAAGqF,SAAS,QACnI,gEAGR,OACI,qBAAMhM,MAAOA,EAAO3B,UAAU,iBAA9B,SACI,gCACI,qBAAMO,KAAN,CAAWP,UAAU,QAArB,UAA6B,uBAAMA,UAAU,OAAhB,uCAAmC,gCAAOnC,OACvE,qBAAM0C,KAAN,CAAWP,UAAU,QAArB,UAA6B,uBAAMA,UAAU,OAAhB,uCAAmC,gCAAO0T,OACvE,qBAAMnT,KAAN,CAAWP,UAAU,QAArB,UAA6B,uBAAMA,UAAU,OAAhB,uCAAmC,2CAAQ2T,QACxE,qBAAMpT,KAAN,CAAWP,UAAU,QAArB,UAA6B,uBAAMA,UAAU,OAAhB,uCAAmC,kCAAO4U,EAAQC,EAAS,SAAMA,EAAO,SACrG,qBAAMtU,KAAN,CAAWP,UAAU,QAArB,UAA6B,uBAAMA,UAAU,OAAhB,uCAEzBiQ,EAAKxJ,KAAI,SAACyJ,GACN,OAAQ,qBAAiBlQ,UAAU,MAAMC,IAAK+I,GAAakH,EAAK/P,IAAI,OAAhD+P,SAK5B,qBAAM3P,KAAN,CAAWP,UAAU,QAArB,UAA6B,uBAAMA,UAAU,OAAhB,uCAC7B,uBAAM+U,wBAAyB,CAACC,OAAOhD,iB,GA7ChB3Q,aCAtB4T,G,4MACjB7Z,MAAM,CAAC8Z,MAAM,EACTC,SAAS,GACTtO,SAAQ,EACRvJ,WAAW,GACXC,WAAW,e,EAEfuM,YAAY,WACR,EAAK5C,QAAU,CACX,CACEvF,MAAO,4BACPwF,UAAW,QAEb,CACExF,MAAO,2BACPwF,UAAW,QAEb,CACExF,MAAO,eACPwF,UAAW,QACXE,OAAO,SAACsM,GAAD,MAAS,UAAKA,IAEvB,CACIhS,MAAO,gBACPyF,MAAM,IACNC,OAAO,SAACtJ,GACJ,IAAOJ,EAAYI,EAAZJ,OAAOK,EAAKD,EAALC,IACd,OAAQ,kCACJ,oBAAQ1C,KAAK,UAAUmI,QAAS,kBAAI,EAAK2R,aAAapX,EAAa,IAATL,EAAW,EAAE,IAAvE,SAAqF,IAATA,EAAW,eAAK,iBAC5F,gCAAgB,IAATA,EAAW,eAAK,sBAIjC,CACEyJ,MAAM,IACNzF,MAAO,gBACP0F,OAAO,SAACtJ,GACJ,OAAQ,kCACJ,eAAC,GAAD,CAAY0F,QAAS,kBAAI,EAAK4R,WAAWtX,IAAzC,0BACA,eAAC,GAAD,CAAY0F,QAAS,kBAAI,EAAK8D,WAAWxJ,IAAzC,iC,EAOpBsX,WAAW,SAACtX,GACRsW,GAAYtW,QAAQA,EACpB,EAAKwB,MAAMwU,QAAQvQ,KAAK,qB,EAG5B+D,WAAW,SAACxJ,GACRsW,GAAYtW,QAAQA,EACpB,EAAKwB,MAAMwU,QAAQvQ,KAAK,uB,EAI5B4R,a,uCAAc,WAAO1X,EAAUC,GAAjB,SAAA2B,EAAA,sEACK7B,EAAgBC,EAAUC,GAD/B,OAES,IAFT,OAEAA,SACNhB,EAAA,EAAQyN,QAAQ,wCAChB,EAAKkL,YAAY,EAAKnY,UAJhB,2C,0DAUdmY,Y,uCAAa,WAAOnY,GAAP,2BAAAmC,EAAA,yDACT,EAAKnC,QAAQA,EACb,EAAKmI,SAAS,CAACuB,SAAQ,IAFd,EAGqB,EAAKzL,MAA5BkC,EAHE,EAGFA,WAAWC,EAHT,EAGSA,YAEdD,EALK,gCAMUD,EAAkB,CAACF,UAAQC,SZ/E/B,EY+EkDE,aAAWC,eANnE,OAMJiE,EANI,+CAQUtE,EAAYC,EZjFhB,GYyEN,QAQJqE,EARI,eAUT,EAAK8D,SAAS,CAACuB,SAAQ,IAVd,EAWUrF,EAAOjG,KAAnB2Z,EAXE,EAWFA,MAAMK,EAXJ,EAWIA,KACb,EAAKjQ,SAAS,CAAC4P,QAAMC,SAASI,IAZrB,4C,qHAeb,WACIzV,KAAKgK,gB,+BAGT,WACIhK,KAAKwV,YAAY,K,oBAGrB,WAAU,IAAD,OACL,EAAsDxV,KAAK1E,MAApD+Z,EAAP,EAAOA,SAASD,EAAhB,EAAgBA,MAAMrO,EAAtB,EAAsBA,QAAQvJ,EAA9B,EAA8BA,WAAWC,EAAzC,EAAyCA,WAGnCoE,EACF,kCACI,sBAAQhC,MAAOpC,EAAY6K,MAAO,CAAChB,MAAM,KAAMsJ,SAAW,SAAA/Q,GAAK,OAAE,EAAK2F,SAAS,CAAC/H,WAAWoC,KAA3F,UACI,oBAAQqG,OAAR,CAAerG,MAAM,cAArB,4CACA,oBAAQqG,OAAR,CAAerG,MAAM,cAArB,+CAEJ,oBAAO+Q,SAAU,SAAC8E,GAAD,OAAS,EAAKlQ,SAAS,CAAChI,WAAWkY,EAAMC,OAAO9V,SAASA,MAAOrC,EAAY8K,MAAO,CAAChB,MAAM,IAAI6G,OAAO,UAAWhN,YAAY,uBAC7I,oBAAQ3F,KAAK,UAAUmI,QAAS,WAAK,EAAK6R,YAAY,IAAtD,6BAGFpN,EACF,oBAAQ5M,KAAK,UAAUuG,KAAM,eAACsG,GAAA,EAAD,IAAkB1E,QAAS,WAAK,EAAKlE,MAAMwU,QAAQvQ,KAAK,uBAArF,sCAKJ,OACI,sBAAM7B,MAAOA,EAAOuG,MAAOA,EAA3B,UACI,qBAAOrB,QAASA,EAAS6B,WAAY,CAAEpC,QAASxG,KAAK3C,QAAQuT,SAAS5Q,KAAKwV,YAAY3M,gBZtHhF,EYsH0GuM,MAAMA,EAAMtM,iBAAgB,GAAOH,UAAQ,EAACF,OAAO,MAAMC,WAAY2M,EAAUjO,QAASpH,KAAKoH,UADlN,W,GA/G6B7F,aCApBqU,G,4JACjB,WACI,OACI,+BACI,gBAAC,IAAD,WACI,eAAC,IAAD,CAAOzS,KAAK,WAAW0S,UAAWV,GAAaW,OAAK,IACpD,eAAC,IAAD,CAAO3S,KAAK,qBAAqB0S,UAAWxC,KAC5C,eAAC,IAAD,CAAOlQ,KAAK,kBAAkB0S,UAAWE,KACzC,eAAC,IAAD,CAAU9V,GAAG,qB,GARIsB,aCJhB4E,G,4MAKjBC,QAAQC,IAAMC,Y,uDAJd,WACItG,KAAKP,MAAM8G,QAAQvG,KAAKoG,QAAQI,W,oBAIpC,WACI,OACI,oBAAMC,IAAKzG,KAAKoG,QAAhB,SACI,mBAAM3F,KAAN,CAAW+I,MAAM,4BAAQ9I,MAAO,CAAC,CAACC,UAAS,EAAK9D,QAAQ,qDAAckB,KAAK,WAAWiD,aAAa,GAAnG,SACI,oBAAOG,YAAY,uD,GAVFI,a,mBCAhByU,G,4MAEjB1a,MAAM,CAAC2a,UAAU,CAAC,CAACpU,MAAO,2BAAOC,IAAI,MAAMK,SAAU,KAAK+T,WAAW,I,EAOrEC,QAAQ,SAACD,GACL,EAAK1Q,SAAS,CAAC0Q,gB,EAGnBE,SAAS,kBAAI,EAAK9a,MAAM4a,Y,+DAVxB,WACI,IAAID,EAAUjW,KAAK1E,MAAM2a,UACzBA,EAAU,GAAG9T,SAASP,GACtB5B,KAAKwF,SAAS,CAACyQ,gB,oBAQnB,WACI,IAAOxX,EAAMuB,KAAKP,MAAXhB,KACP,OACI,+BACI,mBAAMgC,KAAN,CAAW+I,MAAM,4BAAQzL,KAAK,WAAWiD,aAAcvC,EAAKV,KAA5D,SACI,oBAAOsY,UAAU,MAGrB,qBACIF,QAASnW,KAAKmW,QACdG,mBAAoB7X,EAAKqE,MACzByT,kBAAkB,EAClBC,WAAW,EACXC,SAAUzW,KAAK1E,MAAM2a,mB,GA3BHrM,iBCOhC8M,G,kDACF,WAAYjX,GAAO,IAAD,8BACd,cAAMA,IAGVnE,MAAM,CAAC8N,MAAM,GAAG3K,KAAK,GAAGkY,WAAU,EAAMC,YAAW,GAJjC,EAKlBC,QAAQxQ,IAAMC,YALI,EAMlBwQ,WAAW,WACP,EAAK1P,QAAQ,CACT,CAACvF,MAAM,2BACPwF,UAAU,QACV,CAACxF,MAAM,2BACPwF,UAAU,cACVE,OAAO,SAACwP,GAAD,OAAe7S,GAAY6S,KAElC,CAAClV,MAAM,2BACPwF,UAAU,YACVE,OAAOrD,IAEP,CAACrC,MAAM,qBACPwF,UAAU,eAnBA,EAsBlB2P,MAAM,SAACvY,GACH,MAAO,CACHkF,QAAQ,WACJ,EAAK6B,SAAS,CAAC/G,YAzBT,EA6BlBwY,SA7BkB,sBA6BR,8BAAAzX,EAAA,sE3BlBYxD,EAAK,oBAAoB,O2BkBrC,OAEa,KADb0F,EADA,QAEI7D,SACAuL,EAAM1H,EAAOjG,KACnB,EAAK+J,SAAS,CAAC4D,WAJb,2CA7BQ,EAoClB8N,QAAQ,WACJ,EAAK1W,KAAKsH,eAAe,CAAC,aAAarL,KAAvC,uCAA4C,WAAM8C,GAAN,mBAAAC,EAAA,6DACxC,EAAKgG,SAAS,CAACmR,WAAU,IAClBpY,EAAUgB,EAAVhB,SAFiC,SAGpBD,GAAWC,GAHS,OAIrB,KADbmD,EAHkC,QAI9B7D,QACNhB,EAAA,EAAQyN,QAAQ,wCACV7L,EAAKiD,EAAOjG,KAClB,EAAK+J,SAAS,CAAC4D,MAAM,GAAD,oBAAK,EAAK9N,MAAM8N,OAAhB,CAAsB3K,OAE1C5B,EAAA,EAAQyN,QAAQ,wCAToB,2CAA5C,kCAAAtK,KAAA,gBAWGrD,OAAM,SAAAC,GACLmL,QAAQC,IAAIpL,OAjDF,EAqDlBua,WArDkB,sBAqDN,8BAAA3X,EAAA,6DACFf,EAAK,EAAKnD,MAAMmD,KAChBqE,EAAM,EAAK+T,QAAQrQ,QAAQ4P,WACjC3X,EAAKqE,MAAMA,EACXrE,EAAK2Y,UAAU/S,KAAKe,MACpB3G,EAAK4Y,UAAU,EAAK5X,MAAM9E,KAAKgE,SALvB,SAOYH,GAAcC,GAP1B,OAQW,IARX,OAQEZ,SACN,EAAK2H,SAAS,CAACoR,YAAW,IACtBnY,EAAKP,MAAM,EAAKuB,MAAM9E,KAAKgP,SAC3B,EAAKlK,MAAMN,SACXtC,EAAA,EAAQyN,QAAQ,sGAEhBzN,EAAA,EAAQyN,QAAQ,oDACf,EAAK9E,SAAS,CAAC4D,MAAM,aAAI,EAAK9N,MAAM8N,WAfrC,2CAnDR,EAAKyN,QAAQxQ,IAAMC,YAFL,E,6DA2ElB,WACItG,KAAK8W,e,+BAET,WACG9W,KAAKiX,a,oBAER,WAAU,IAAD,OACL,EAAwCjX,KAAK1E,MAAtC8N,EAAP,EAAOA,MAAM3K,EAAb,EAAaA,KAAKkY,EAAlB,EAAkBA,UAAUC,EAA5B,EAA4BA,WACtB/U,EAAS,kCACX,oBAAQrG,KAAK,UAAUmI,QAAS,WAAK,EAAK6B,SAAS,CAACmR,WAAU,KAA9D,sCADW,WAEX,oBAAQnb,KAAK,UAAUmI,QAAS,WAAK,EAAK6B,SAAS,CAACoR,YAAW,KAASP,UAAW5X,EAAKP,IAAxF,qDAEJ,OACI,sBAAM2D,MAAOA,EAAb,UACI,qBACI4G,OAAO,MACPC,WAAYU,EACZT,UAAQ,EACR2O,aAAc,CAAC9b,KAAK,QAAQ+b,gBAAgB,CAAC9Y,EAAKP,KAAKsZ,SAAS,SAAC/Y,GAAD,OAAQ,EAAK+G,SAAS,CAAC/G,WACvFuY,MAAOhX,KAAKgX,MACZ5P,QAASpH,KAAKoH,QACdwB,WAAY,CAAEC,gBhB1GX,EgB0GuCC,iBAAiB,KAE/D,qBAAOC,gBAAc,EAAClH,MAAM,2BACpBmH,QAAS2N,EAAW3Q,KAAMhG,KAAKkX,QAC/BjO,SAAU,WAAK,EAAKzD,SAAS,CAACmR,WAAU,KAFhD,SAGI,eAAC,GAAD,CAASpQ,QAAS,SAAC/F,GAAW,EAAKA,KAAOA,OAK9C,qBAAOuI,gBAAc,EAAClH,MAAM,uCACpBmH,QAAS4N,EAAY5Q,KAAMhG,KAAKmX,WAChClO,SAAU,WAAK,EAAKzD,SAAS,CAACoR,YAAW,KAFjD,SAGI,eAAC,GAAD,CAAUnQ,IAAKzG,KAAK6W,QAASpY,KAAMA,a,GA9GpC8C,aAuHJC,gBACX,SAAAlG,GAAK,MAAG,CAACX,KAAKW,EAAMX,QACpB,CAACwE,WAFUqC,CAIbkV,I,qCC/HIe,I,mNACFC,OAAS,WAEL,EAAKjY,MAAMwU,QAAQ0D,QAAQ,M,4CAE/B,WACI,OACI,sBAAKzX,UAAU,YAAf,UACI,qBAAKoJ,KAAM,GAAIpJ,UAAU,SACzB,sBAAKoJ,KAAM,GAAIpJ,UAAU,QAAzB,UACI,sCACA,2GACA,+BACI,oBAAQ1E,KAAK,UAAUmI,QAAS3D,KAAK0X,OAArC,kD,GAbDnW,cAqBRC,eACX,KACA,CAAEvC,iBAFSuC,CAGbiW,ICfMG,GAAR,KAAQA,OAAQC,GAAhB,KAAgBA,MAAOC,GAAvB,KAAuBA,QAKjBC,G,4JACF,WACI,IAAMpd,EAAOqF,KAAKP,MAAM9E,KACxB,OAAKA,GAASA,EAAKuD,IAIf,sBAAQoK,MAAO,CAACwK,UAAU,QAA1B,UACI,eAAC+E,GAAD,UAAO,eAAC,GAAD,MACP,gCACI,eAAC,GAAD,qBACA,eAACC,GAAD,CAASxP,MAAO,CAAC6F,OAAO,OAAO3C,gBAAgB,QAA/C,SACI,gBAAC,IAAD,WACI,eAAC,IAAD,CAAUsK,OAAK,EAACkC,KAAK,IAAI/X,GAAG,UAC5B,eAAC,IAAD,CAAOkD,KAAK,QAAQ0S,UAAWlI,KAC/B,eAAC,IAAD,CAAOxK,KAAK,YAAY0S,UAAW/O,KACnC,eAAC,IAAD,CAAO3D,KAAK,WAAW0S,UAAWD,KAClC,eAAC,IAAD,CAAOzS,KAAK,QAAQ0S,UAAWa,KAC/B,eAAC,IAAD,CAAOvT,KAAK,QAAQ0S,UAAWhM,KAC/B,eAAC,IAAD,CAAO1G,KAAK,cAAc0S,UAAWpL,KACrC,eAAC,IAAD,CAAOtH,KAAK,eAAe0S,UAAWpI,KACtC,eAAC,IAAD,CAAOtK,KAAK,cAAc0S,UAAWvK,KACrC,eAAC,IAAD,CAAOuK,UAAW4B,UAG1B,eAACG,GAAD,CAAQtP,MAAO,CAAC2P,UAAU,SAASrM,MAAM,QAAzC,wJArBD,eAAC,IAAD,CAAU3L,GAAG,e,GAJZsB,aAgCLC,gBACX,SAAAlG,GAAK,MAAG,CAACX,KAAKW,EAAMX,QACpB,GAFW6G,CAGbuW,IClDmBG,G,4JAEjB,WACI,OACQ,gBAAC,IAAD,WACI,eAAC,IAAD,CAAO/U,KAAK,SAAS0S,UAAWxW,KAChC,eAAC,IAAD,CAAO8D,KAAK,IAAI0S,UAAWkC,Y,GANdxW,aCEjC4W,IAAS5Q,OAAO,eAAC,IAAD,UAAY,eAAC,IAAD,CAAU3M,MAAOA,EAAjB,SAAwB,eAAC,GAAD,QAA+Bwd,SAASC,eAAe,W","file":"static/js/main.6e0bdf20.chunk.js","sourcesContent":["/* 使用local数据存贮管理工具模块 */\r\nimport store from \"store\"\r\n\r\nconst USER_KEY = \"user_key\"\r\nexport const saveUser = (user) => {\r\n    // localStorage.setItem(USER_KEY, JSON.stringify(user))\r\n    store.set(USER_KEY, user)\r\n}\r\n//保存\r\n\r\n//读取\r\nexport const getUser = () => {\r\n    // return JSON.parse(localStorage.getItem(USER_KEY||\"{}\"))\r\n    return store.get(USER_KEY)||{}\r\n}\r\n//删除\r\nexport const removeUser = () => {\r\n    // localStorage.removeItem(USER_KEY)\r\n    store.remove(USER_KEY)\r\n}"," \r\n export const SET_HEAD_TITLE=\"set_head_title\"\r\n export const RECEIVE_USER=\"receive_user\"\r\n export const SHOW_ERROR_MSG  =\"show_error_msg\"\r\n export const RESET_USER  =\"reset_user\"","import {getUser} from \"../utiles/storageUtils\"\r\nimport {combineReducers} from \"redux\"\r\nimport {SET_HEAD_TITLE,RECEIVE_USER,SHOW_ERROR_MSG,RESET_USER} from \"./constants\"\r\n\r\nconst initHeadTitle=\"首页\"\r\n\r\nfunction headTitle(state=initHeadTitle,action){\r\n    switch (action.type) {\r\n        case SET_HEAD_TITLE:return action.data;\r\n        default:return state;\r\n    }\r\n}\r\n\r\nconst initUser=getUser()\r\nfunction user(state=initUser,action){\r\n    switch (action.type) {\r\n        case RECEIVE_USER:return action.user;\r\n        case SHOW_ERROR_MSG: \r\n        const errorMsg=action.errorMsg \r\n        return {...state,errorMsg};\r\n        case RESET_USER: return {};\r\n        default:return state;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default combineReducers({headTitle,user})\r\n    \r\n","import {createStore,applyMiddleware} from \"redux\"\r\nimport thunk from \"redux-thunk\"\r\nimport reducer from \"./reducer\"\r\nimport {composeWithDevTools} from \"redux-devtools-extension\"\r\n\r\n\r\nexport default createStore(reducer,composeWithDevTools(applyMiddleware(thunk)))","export default __webpack_public_path__ + \"static/media/logo.f6487143.png\";","/* 专门发送ajax请求的函数，封装了axios\r\n优化请求异常?\r\n在外层自己创建一个promise对象，请求出错的时候不调用reject方法\r\n*/\r\n\r\nimport axios from \"axios\"\r\nimport {message} from \"antd\"\r\n\r\nexport default function ajax(url, method = \"GET\", data = {}) {\r\n    let promise\r\n    return new Promise((resolve,reject)=>{\r\n        //1、执行异步ajax请求\r\n        if (method === \"GET\") {\r\n            promise=axios.get(url, {params: data})\r\n        } else {\r\n            promise=axios.post(url, data)\r\n        }\r\n        //2、如果成功了，调用resolve（value）\r\n        promise.then(response=>{\r\n            resolve(response.data)\r\n        //3、如果失败了，不调用reject(reason)\r\n        }).catch(error=>{        \r\n            message.error(\"请求出错:\"+error.message)\r\n        })\r\n\r\n    })\r\n\r\n    \r\n\r\n}\r\n","/* 包含应用所有接口请求函数的模块 */\r\n\r\nimport ajax from \"./ajax\"\r\n\r\n\r\nexport const reqCategorys=(parentId)=>ajax(\"/manage/category/list\",\"GET\",{parentId})\r\n\r\nexport const reqAddCategory=(categoryName,parentId)=>ajax(\"/manage/category/add\",\"POST\",{categoryName,parentId})\r\n\r\nexport const reqUpdateCategory=({categoryId,categoryName})=>ajax(\"/manage/category/update\",\"POST\",{categoryId,categoryName})\r\n\r\nexport const reqProducts=(pageNum,pageSize)=>ajax(\"/manage/product/list\",\"GET\",{pageNum,pageSize})\r\n\r\nexport const reqSearchProducts=({pageNum,pageSize,searchName,searchType})=>ajax(\"/manage/product/search\",\"GET\",{pageNum,pageSize,[searchType]:searchName})\r\n\r\nexport const reqCategory=(categoryId)=>ajax(\"/manage/category/info\",\"GET\",{categoryId})\r\n\r\nexport const reqUpdateStatus=(productId,status)=>ajax(\"/manage/product/updateStatus\",\"POST\",{productId,status})\r\n\r\nexport const reqDeleteImg=(name)=>ajax(\"/manage/img/delete\",\"POST\",{name})\r\n\r\nexport const reqAddOrUpdateProduct=(product)=>ajax(\"/manage/product/\"+(product._id?\"update\":\"add\"),\"POST\",product)\r\n\r\nexport const reqRoles=()=>ajax(\"/manage/role/list\",\"GET\")\r\n\r\nexport const reqUsers=()=>ajax(\"/manage/user/list\",\"GET\")\r\n\r\nexport const reqDeleteUser=(userId)=>ajax(\"/manage/user/delete\",\"POST\",{userId})\r\n\r\nexport const reqAddRole=(roleName)=>ajax(\"/manage/role/add\",\"POST\",{roleName})\r\n\r\nexport const reqUpdateRole=(role)=>ajax(\"/manage/role/update\",\"POST\",role)\r\n\r\nexport const reqLogin=(username,password)=>ajax(\"/login\",\"POST\",{username,password})\r\n\r\nexport const reqAddOrUpdateUser=(user)=>ajax(\"/manage/user/\"+(user._id?\"update\":\"add\"),\"POST\",user)\r\n\r\nexport const reqCity=()=>ajax(`https://restapi.amap.com/v3/ip?key=d0eda560cdbc8201917f247318227c73`,\"GET\")\r\n\r\nexport const reqWeather=(adcode)=>ajax(`https://restapi.amap.com/v3/weather/weatherInfo?city=${adcode}&key=d0eda560cdbc8201917f247318227c73`,\"GET\")","import {SET_HEAD_TITLE,RECEIVE_USER,SHOW_ERROR_MSG,RESET_USER} from \"./constants\"\r\nimport {reqLogin} from \"../api/index\"\r\nimport {saveUser,removeUser} from \"../utiles/storageUtils\"\r\n\r\nexport const setHeadTitle=(headTitle)=>({type:SET_HEAD_TITLE,data:headTitle})\r\n\r\nexport const receiveUser=(user)=>({type:RECEIVE_USER,user})\r\n\r\nexport const logout=()=>{\r\n    removeUser()\r\n    return {type:RESET_USER}\r\n}\r\n\r\nexport const showErrorMsg=(errorMsg)=>({type:SHOW_ERROR_MSG,errorMsg})\r\n\r\n\r\nexport const login=(username,password)=>{return async dispatch=>{\r\n    const result = await reqLogin(username,password)\r\n    if(result.status===0){\r\n        const user=result.data\r\n        saveUser(user)\r\n        dispatch(receiveUser(user))\r\n    }else{\r\n        const msg=result.msg\r\n        dispatch(showErrorMsg(msg))\r\n    }\r\n}}","import React, { Component } from 'react'\r\nimport \"./index.less\"\r\nimport logo from \"../../assets/images/img/logo.png\"\r\nimport { Form, Input, Button} from 'antd'\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport { Redirect } from \"react-router-dom\"\r\nimport {connect} from \"react-redux\"\r\nimport { login } from '../../redux/actions';\r\n\r\n\r\n//登录路由组件\r\nclass Login extends Component {\r\n\r\n    onFinish = async (values) => {\r\n        const {username,password}=values\r\n        this.props.login(username,password)\r\n\r\n    }\r\n    validatePwd = (_, value) => {\r\n        if (!value) {\r\n            return Promise.reject(\"必须输入密码\")\r\n        } else if (value.length < 4) {\r\n            return Promise.reject(\"密码长度不能小于4\")\r\n        } else if (value.length > 12) {\r\n            return Promise.reject(\"密码长度不能大于12\")\r\n        } else if (!/^[a-zA-Z0-9_$]+/.test(value)) {\r\n            return Promise.reject(\"密码必须是字符串数字下划线\")\r\n        } else\r\n            return Promise.resolve()\r\n    }\r\n\r\n    render() {\r\n        const user = this.props.user\r\n        if (user && user._id) {\r\n            return <Redirect to=\"/home\" />\r\n        }\r\n\r\n        return (\r\n            <div className=\"login\">\r\n                <header className=\"login-header\">\r\n                    <img src={logo} alt=\"logo图标\" />\r\n                    <h1>React项目：后台管理系统</h1>\r\n                </header>\r\n                <section className=\"login-content\">\r\n                    <div className={user.errorMsg?\"error-msg show\":\"error-msg\"}>{user.errorMsg}</div>\r\n                    <h2>用户登录</h2>\r\n                    <Form name=\"normal_login\" className=\"login-form\" initialValues={{ remember: true, }} onFinish={this.onFinish} form={this.form}>\r\n                        <Form.Item name=\"username\" rules={[{ required: true, whitespace: true, message: '必须输入用户名' },\r\n                        { min: 4, message: '用户名至少4位' },\r\n                        { max: 12, message: '用户名最多12位' },\r\n                        { pattern: /^[a-zA-Z0-9_$]+/, message: '用户名必须是字符串数字下划线' }]} initialValue=\"root\">\r\n                            <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"用户名\" />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item name=\"password\" rules={[{ required: true, message: 'Please input your Password!' }, {\r\n                            validator: this.validatePwd\r\n                        }]}>\r\n                            <Input prefix={<LockOutlined className=\"site-form-item-icon\" />} type=\"password\" placeholder=\"密码\" />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">登录</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state=>({user:state.user}),\r\n    {login}\r\n)(Login)","import {\r\n    AppstoreAddOutlined,\r\n    PieChartOutlined,\r\n    LineChartOutlined,\r\n    BarChartOutlined,\r\n    HomeOutlined,\r\n    ToolOutlined,\r\n    UserOutlined,\r\n    SafetyOutlined,\r\n    AreaChartOutlined\r\n} from '@ant-design/icons';\r\nconst menuList = [{\r\n        title: '首页', // 菜单标题名称\r\n        key: '/home', // 对应的 path\r\n        icon: < HomeOutlined / > , // 图标名称\r\n        isPublic:true, // 公开的\r\n    },\r\n    {\r\n        title: '商品',\r\n        key: '/products',\r\n        icon: < AppstoreAddOutlined / > ,\r\n        children: [ // 子菜单列表\r\n            {\r\n                title: '品类管理',\r\n                key: '/category',\r\n                icon: < BarChartOutlined / >\r\n            },\r\n            {\r\n                title: '商品管理',\r\n                key: '/product',\r\n                icon: < ToolOutlined / >\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        title: '用户管理',\r\n        key: '/user',\r\n        icon: < UserOutlined / >\r\n    },\r\n    {\r\n        title: '角色管理',\r\n        key: '/role',\r\n        icon: < SafetyOutlined / > ,\r\n    },\r\n    {\r\n        title: '图形图表',\r\n        key: '/charts',\r\n        icon: < AreaChartOutlined / > ,\r\n        children: [{\r\n                title: '柱形图',\r\n                key: '/charts/bar',\r\n                icon: < BarChartOutlined / >\r\n            },\r\n            {\r\n                title: '折线图',\r\n                key: '/charts/line',\r\n                icon: < LineChartOutlined / >\r\n            },\r\n            {\r\n                title: '饼图',\r\n                key: '/charts/pie',\r\n                icon: < PieChartOutlined / >\r\n            },\r\n        ]\r\n    },\r\n]\r\n\r\nexport default menuList","import React, { Component } from 'react'\r\nimport \"./index.less\"\r\nimport { NavLink, withRouter } from \"react-router-dom\"\r\nimport logo from \"../../assets/images/img/logo.png\"\r\nimport menuList from '../../config/menuConfig'\r\nimport {connect} from \"react-redux\"\r\nimport {setHeadTitle} from \"../../redux/actions\"\r\n\r\nimport { Menu } from 'antd';\r\n\r\n\r\nconst { SubMenu } = Menu;\r\n\r\n\r\nclass LeftNav extends Component {\r\n    hasAuth = (item) => {\r\n        const { key, isPublic } = item\r\n        const menus = this.props.user.role.menus\r\n        const username = this.props.user.role.username\r\n        if (username === \"root\" || isPublic || menus.indexOf(key) !== -1) {\r\n            return true\r\n        } else if (item.children) {\r\n            return !!item.children.find(child => menus.indexOf(child.key) !== -1)\r\n        }\r\n    }\r\n\r\n    //使用reduce则不用自己调用自己\r\n    getMenuNodes = (menuList) => {\r\n        const path = this.props.location.pathname\r\n        return menuList.reduce((pre, item) => {\r\n            if (this.hasAuth(item)) {\r\n\r\n                if (!item.children) {\r\n                    if(item.key===path||path.indexOf(item.key)===0){\r\n                        this.props.setHeadTitle(item.title)\r\n                    }\r\n                    pre.push((<Menu.Item key={item.key} icon={item.icon}>\r\n                        <NavLink to={item.key}  onClick={()=>this.props.setHeadTitle(item.title)}>{item.title}</NavLink>\r\n                    </Menu.Item>))\r\n                } else {\r\n                    const citem = item.children.find(citem => path.indexOf(citem.key) === 0)\r\n                    if (citem) {\r\n                        this.openKey = item.key\r\n                    }\r\n                    pre.push((<SubMenu key={item.key} icon={item.icon} title={item.title}>\r\n                        {this.getMenuNodes(item.children)}\r\n                    </SubMenu>))\r\n                }\r\n            }\r\n            return pre\r\n        }, [])\r\n    }\r\n    UNSAFE_componentWillMount() {\r\n        this.menuNodes = this.getMenuNodes(menuList)\r\n    }\r\n    render() {\r\n        let path = this.props.location.pathname\r\n        if (path.indexOf(\"/product\") === 0) {\r\n            path = \"/product\"\r\n        }\r\n        return (\r\n            <div className=\"left-nav\">\r\n                <NavLink to=\"/\" className=\"left-nav-header\">\r\n                    <img src={logo} alt=\"logo\" />\r\n                    <h1>硅谷后台</h1>\r\n                </NavLink>\r\n                <Menu mode=\"inline\" theme=\"dark\" selectedKeys={[path]} defaultOpenKeys={[this.openKey]}>\r\n                    {\r\n                        this.menuNodes\r\n                    }\r\n                </Menu>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state=>({user:state.user}),\r\n    {setHeadTitle}\r\n)(withRouter(LeftNav))","export function formateDate(time) {\r\n    if (!time) return \"\"\r\n    let date = new Date(time)\r\n    return date.getFullYear() + \"-\" + (date.getMonth()+1) + \"-\" + date.getDate() + \" \" + date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds() + \"  星期\" + date.getDay()\r\n}\r\n","import React from 'react'\r\nimport \"./index.less\"\r\nexport default function LinkButton(props) {\r\n    return <button {...props} className=\"link-button\"></button>\r\n    \r\n}","import React, { Component } from 'react'\r\nimport \"./index.less\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { formateDate } from \"../../utiles/dateUtils\"\r\nimport { reqWeather, reqCity } from \"../../api/index\"\r\nimport menuList from \"../../config/menuConfig\"\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport LinkButton from \"../LinkButton\";\r\nimport { Modal } from 'antd';\r\nimport {logout} from \"../../redux/actions\"\r\nimport {connect} from \"react-redux\"\r\nconst { confirm } = Modal;\r\n\r\n\r\n\r\n\r\n\r\nclass Header extends Component {\r\n    state = { city: \"\", weather: \"\", temperature: \"\", currentTime: formateDate(Date.now()) }\r\n\r\n    async UNSAFE_componentWillMount() {\r\n        const city = await reqCity()\r\n        const weather = await reqWeather(city.adcode)\r\n        this.setState({ city: weather.lives[0].city, weather: weather.lives[0].weather, temperature: weather.lives[0].temperature })\r\n    }\r\n    getTime = () => {\r\n        this.intervalId1 = setInterval(() => {\r\n            const currentTime = formateDate(Date.now())\r\n            this.setState({ currentTime })\r\n        }, 1000)\r\n    }\r\n    getWeather = () => {\r\n        this.intervalId2 = setInterval(async () => {\r\n            const city = await reqCity()\r\n            const weather = await reqWeather(city.adcode)\r\n            this.setState({ city: weather.lives[0].city, weather: weather.lives[0].weather, temperature: weather.lives[0].temperature })\r\n        }, 3600000);\r\n\r\n    }\r\n    getTitle = () => {\r\n        const path = this.props.location.pathname\r\n        let title\r\n        menuList.forEach(item => {\r\n            if (item.key === path) {\r\n                title = item.title\r\n            } else if (item.children) {\r\n                const citem = item.children.find(citem => path.indexOf(citem.key)===0)\r\n                if (citem) {\r\n                    title = citem.title\r\n                }\r\n            }\r\n        })\r\n        return title\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.getTime()\r\n        this.getWeather()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.intervalId1)\r\n        clearInterval(this.intervalId2)\r\n    }\r\n\r\n    showConfirm = () => {\r\n        confirm({\r\n            title: '确定退出吗？',\r\n            icon: <ExclamationCircleOutlined />,\r\n            onOk: () => {\r\n                this.props.logout()\r\n            },\r\n        });\r\n    }\r\n    render() {\r\n        const username = this.props.user.username\r\n        const title =this.props.headTitle\r\n        return (\r\n            <div className=\"header\">\r\n                <div className=\"header-top\">\r\n                    <span>欢迎，{username}</span>\r\n                    <LinkButton onClick={this.showConfirm}>退出</LinkButton>\r\n                </div>\r\n                <div className=\"header-bottom\">\r\n                    <div className=\"header-bottom-left\">{title}</div>\r\n                    <div className=\"header-bottom-right\">\r\n                        <span>{this.state.currentTime}</span>\r\n                        <img src=\"http://www.weather.com.cn/m/i/icon_weather/42x30/d00.gif\" alt=\"logo\" />\r\n                        <span>目前{this.state.city},天气{this.state.weather},温度{this.state.temperature}度</span>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state=>({headTitle:state.headTitle,user:state.user}),\r\n    {logout}\r\n)(withRouter(Header))","import React, { Component} from 'react'\r\nimport { Form, Select, Input } from \"antd\"\r\n\r\nconst Item = Form.Item\r\nconst Option = Select.Option\r\n\r\nexport default class AddForm extends Component {\r\n    componentDidMount(){\r\n        this.props.setForm(this.formRef.current)\r\n    }\r\n\r\n    formRef=React.createRef()\r\n    render() {\r\n        return (\r\n            <Form ref={this.formRef}>\r\n                <Item name=\"parentId\" initialValue={this.props.parentId}>\r\n                    <Select>\r\n                        <Option value=\"0\">一级分类</Option>\r\n                        {this.props.categorys.map((c)=>{\r\n                            return <Option key={c._id} value={c._id}>{c.name}</Option>\r\n                            })\r\n                        }\r\n                    </Select>\r\n                </Item>\r\n                <Item rules={[{required:true,message:\"必须输入分类名称\"}]} name=\"categoryName\" initialValue=\"\"> \r\n                    <Input placeholder=\"请输入分类名称\" />\r\n                </Item>\r\n            </Form> )\r\n            \r\n    } \r\n}","import React, { Component } from 'react'\r\nimport { Form, Input } from \"antd\"\r\n\r\nexport default class UpdateForm extends Component {\r\n\r\n    formRef=React.createRef()\r\n\r\n    componentDidMount(){\r\n        this.props.setForm(this.formRef.current)\r\n    }\r\n    \r\n    render() {\r\n        const {categoryName}=this.props\r\n        return (\r\n            <Form ref={this.formRef}>\r\n                <Form.Item rules={[{required:true,message:\"必须输入分类名称\"}]} name=\"categoryName\" initialValue={categoryName}>\r\n                    <Input name=\"categoryName\"  placeholder=\"请输入分类名称\" />\r\n                </Form.Item>\r\n            </Form>\r\n            )\r\n    } \r\n}","import React, { Component } from 'react'\r\nimport { Card, Button, Table, message, Modal } from 'antd'\r\nimport { PlusOutlined, ArrowRightOutlined } from '@ant-design/icons'\r\nimport LinkButton from \"../../components/LinkButton\"\r\nimport { reqCategorys, reqUpdateCategory, reqAddCategory } from \"../../api\"\r\nimport AddForm from \"./addform\"\r\nimport UpdateForm from \"./updateform\"\r\n/* 商品分类 */\r\nexport default class Category extends Component {\r\n    state = {\r\n        loading: false,\r\n        categorys: [],//一级分类列表\r\n        parentId: \"0\",//当前显示父类ID\r\n        parentName: \"\",//当前显示父类名称\r\n        subCategorys: [],\r\n        showStatus: 0,\r\n    }\r\n    initColums = () => {\r\n        this.columns = [\r\n            {\r\n                title: '分类名称',\r\n                dataIndex: 'name'\r\n            },\r\n            {\r\n                title: '操作',\r\n                width: \"25%\",\r\n                render: (category) => (<span>\r\n                    <LinkButton onClick={() => this.showUpdate(category)}>修改分类</LinkButton>\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;\r\n                    {this.state.parentId === \"0\" ? <LinkButton onClick={() => this.showSubCategorys(category)}>查看子分类</LinkButton> : null}\r\n                </span>)\r\n            }\r\n        ];\r\n    }\r\n\r\n    showSubCategorys = (category) => {\r\n        this.setState({\r\n            parentId: category._id,\r\n            parentName: category.name\r\n        }, () => {\r\n            this.getCategorys()\r\n        })\r\n\r\n    }\r\n\r\n\r\n    getCategorys = async (parentId) => {\r\n        this.setState({ loading: true })\r\n        parentId = parentId || this.state.parentId\r\n        const result = await reqCategorys(parentId)\r\n        this.setState({ loading: false })\r\n        if (result.status === 0) {\r\n            if (parentId === \"0\") {\r\n                this.setState({ categorys: result.data })\r\n            } else {\r\n                this.setState({ subCategorys: result.data })\r\n            }\r\n\r\n        } else {\r\n            message.error(\"获取分类信息失败\")\r\n        }\r\n    }\r\n    showUpdate = (category) => {\r\n        this.category = category\r\n        this.setState({ showStatus: 2 })\r\n    }\r\n    showAdd = () => {\r\n        this.setState({ showStatus: 1 })\r\n    }\r\n    addCategory = () => {\r\n        this.form.validateFields().then(async (values) => {\r\n            this.setState({ showStatus: 0 })\r\n            const { parentId, categoryName } = values\r\n            console.log(parentId, categoryName)\r\n            reqAddCategory(categoryName, parentId)\r\n            if (parentId === this.state.parentId) {\r\n                this.getCategorys()\r\n            } else if (parentId === \"0\") {\r\n                this.getCategorys(\"0\")\r\n            }\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        })\r\n    }\r\n    updateCategory = () => {\r\n        this.form.validateFields().then(async (values) => {\r\n            //1隐藏确定框\r\n            this.setState({ showStatus: 0 })\r\n            //2隐藏确定框\r\n            const categoryId = this.category._id\r\n            const { categoryName } = values\r\n            reqUpdateCategory({ categoryId, categoryName })\r\n            this.getCategorys()\r\n\r\n            //3重新展示内容\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    handleCancel = () => {\r\n        this.setState({ showStatus: 0 })\r\n    }\r\n\r\n\r\n    UNSAFE_componentWillMount() {\r\n        this.initColums()\r\n    }\r\n    componentDidMount() {\r\n        this.getCategorys()\r\n    }\r\n    showCategorys = () => {\r\n        this.setState({ parentId: \"0\", parentName: \"\", subCategorys: [] })\r\n    }\r\n\r\n    render() {\r\n        const { categorys, parentId, loading, subCategorys, parentName, showStatus } = this.state\r\n        const category = (this.category || {})\r\n        const extra = (<Button type=\"primary\" icon={<PlusOutlined />} onClick={this.showAdd} style={{width:110}}>添加</Button>)\r\n        const title = parentId === \"0\" ? \"一级分类标题\" : (\r\n            <span>\r\n                <LinkButton onClick={this.showCategorys}>一级分类标题</LinkButton>\r\n                <ArrowRightOutlined style={{ marginRight: 5 }} />\r\n                <span>{parentName}</span>\r\n            </span>)\r\n        return (\r\n            <Card title={title} extra={extra} style={{ width: \"100%\" }}>\r\n                <Table loading={loading} rowKey=\"_id\" dataSource={parentId === \"0\" ? categorys : subCategorys}\r\n                    bordered columns={this.columns} pagination={{ defaultPageSize: 7, showQuickJumper: true }} />\r\n                <Modal destroyOnClose title=\"添加分类\" visible={showStatus === 1} onOk={this.addCategory} onCancel={this.handleCancel}>\r\n                    <AddForm categorys={categorys} parentId={parentId} setForm={(form) => { this.form = form }} />\r\n                </Modal>\r\n                <Modal destroyOnClose title=\"更新分类\" visible={showStatus === 2} onOk={this.updateCategory} onCancel={this.handleCancel}>\r\n                    <UpdateForm categoryName={category.name} setForm={(form) => { this.form = form }} />\r\n                </Modal>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n","/* 常量值 */\r\n\r\nexport const PAGE_SIZE=5\r\nexport const BASE_IMG_URL=\"http://localhost:5000/upload/\"","import React, { PureComponent} from 'react'\r\nimport { Form, Input ,Select} from \"antd\"\r\n\r\n\r\nexport default class UserForm extends PureComponent {\r\n    componentDidMount(){\r\n        this.props.setForm(this.formRef.current)\r\n    }\r\n\r\n    formRef=React.createRef()\r\n    render() {\r\n        const {roles,user}=this.props\r\n        const layout = {labelCol: {span: 4},wrapperCol: {span: 20}};\r\n        return (\r\n            <Form ref={this.formRef} {...layout} >\r\n                <Form.Item label=\"用户名:\" rules={[{required:true,message:\"必须输入用户名\"}]} name=\"username\" initialValue={user.username}> \r\n                    <Input placeholder=\"请输入用户名\" />\r\n                </Form.Item>\r\n                {user._id?(<Form.Item label=\"密码:\" rules={[{required:true,message:\"必须输入密码\"}]} name=\"password\" initialValue={user.password}> \r\n                    <Input placeholder=\"请输入密码\" />\r\n                </Form.Item>):(<Form.Item label=\"密码:\" rules={[{required:true,message:\"必须输入密码\"}]} name=\"password\" initialValue={user.password}> \r\n                    <Input type=\"password\"  placeholder=\"请输入密码\" />\r\n                </Form.Item>)}\r\n                <Form.Item label=\"手机号:\" rules={[{required:true,message:\"必须输入手机号\"}]} name=\"phone\" initialValue={user.phone}> \r\n                    <Input placeholder=\"请输入手机号\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"邮箱:\" rules={[{required:true,message:\"必须输入邮箱\"}]} name=\"email\" initialValue={user.email}> \r\n                    <Input placeholder=\"请输入邮箱\" />\r\n                </Form.Item>\r\n                <Form.Item label=\"角色:\" rules={[{required:true,message:\"必须输入用户名\"}]} name=\"role_id\" initialValue={user.role_id}> \r\n                    <Select>\r\n                        {\r\n                            roles.map((role)=>(\r\n                                <Select.Option key={role._id} value={role._id}>{role.name}</Select.Option>\r\n                            ))\r\n                        }\r\n                    </Select>\r\n                </Form.Item>\r\n            </Form> )\r\n            \r\n    } \r\n}","/* 用户路由 */\r\nimport React, { Component } from 'react'\r\nimport {Card,Button,Table,Modal,message} from \"antd\"\r\nimport {formateDate} from \"../../utiles/dateUtils\"\r\nimport LinkButton from '../../components/LinkButton'\r\nimport {PAGE_SIZE} from \"../../utiles/constants\"\r\nimport { reqUsers,reqDeleteUser,reqAddOrUpdateUser} from \"../../api/index\";\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport UserForm from \"./userform\"\r\n\r\n\r\nexport default class User extends Component {\r\n    state={users:[],isShow:false,roles:[]}\r\n\r\n    initColumns=()=>{\r\n        this.columns=[\r\n            {title:\"用户名\",\r\n            dataIndex:\"username\"},\r\n            {title:\"邮箱\",\r\n            dataIndex:\"email\"},\r\n            {title:\"电话\",\r\n            dataIndex:\"phone\"},\r\n            {title:\"注册时间\",\r\n            dataIndex:\"create_time\",\r\n            render:formateDate},\r\n            {title:\"所属角色\",\r\n            dataIndex:\"role_id\",\r\n            render:(role_id)=>this.roleNames[role_id]},\r\n            {title:\"操作\",\r\n            render:(user)=>(<span>\r\n                <LinkButton onClick={()=>{this.showUpdate(user)}}>修改</LinkButton>\r\n                <LinkButton onClick={()=>{this.deleteUser(user)}}>删除</LinkButton></span>)},\r\n        ]\r\n\r\n    }\r\n    addOrUpdateUser= async ()=>{\r\n        const user=this.form.getFieldsValue()\r\n        this.form.resetFields()\r\n        if(this.user){\r\n            user._id=this.user._id\r\n        }\r\n\r\n        const result=await reqAddOrUpdateUser(user)\r\n        if (result.status===0) {\r\n            message.success(`${this.user?\"修改\":\"添加\"}用户成功`)\r\n            this.setState({isShow:false})\r\n            this.getUsers()\r\n        }else{\r\n            message.error(`${this.user?\"修改\":\"添加\"}用户失败`)\r\n        }\r\n\r\n    }\r\n    showUpdate=(user)=>{\r\n        this.user=user\r\n        this.setState({isShow:true})\r\n    }\r\n\r\n    deleteUser=(user)=>{\r\n        Modal.confirm({\r\n            title: `确定要删除${user.username}用户吗？`,\r\n            icon: <ExclamationCircleOutlined />,\r\n            onOk:async()=> {\r\n                const result=await reqDeleteUser(user._id)\r\n                if(result.status===0){\r\n                    message.success(\"删除用户成功\")\r\n                    this.getUsers()\r\n                }else{\r\n                    message.error(\"删除用户失败\")\r\n                }\r\n            } \r\n          })\r\n    }\r\n\r\n    showAdd=()=>{\r\n        this.user={};\r\n        this.setState({isShow:true})\r\n    }\r\n\r\n    initRoleNames=(roles)=>{\r\n        const roleNames=roles.reduce((pre,role)=>{\r\n            pre[role._id]=role.name\r\n            return pre\r\n        },{})\r\n        this.roleNames=roleNames\r\n\r\n    }\r\n\r\n    getUsers=async ()=>{\r\n        const result=await reqUsers()\r\n        if(result.status===0){\r\n            const{users,roles}=result.data\r\n            this.initRoleNames(roles)\r\n            this.setState({users,roles})\r\n        }\r\n    }\r\n\r\n    UNSAFE_componentWillMount(){\r\n        this.initColumns()\r\n        \r\n    }\r\n    componentDidMount(){\r\n        this.getUsers()\r\n    }\r\n    render() {\r\n        const {users,isShow,roles}=this.state\r\n        const user=this.user||{}\r\n        const title =<Button type=\"primary\" onClick={this.showAdd}>创建用户</Button>\r\n        return (\r\n            <Card title={title}>\r\n                <Table \r\n                rowKey=\"_id\" \r\n                dataSource={users}\r\n                bordered \r\n                columns={this.columns} \r\n                pagination={{ defaultPageSize: PAGE_SIZE, showQuickJumper: true }} />\r\n\r\n                <Modal  \r\n                destroyOnClose={true}\r\n                title={user._id ? \"修改用户\" : \"添加用户\"} \r\n                visible={isShow} \r\n                onOk={this.addOrUpdateUser} \r\n                onCancel={()=>{\r\n                    this.form.resetFields()\r\n                    this.setState({isShow:false})}}>\r\n                    <UserForm setForm={form=>this.form=form} roles={roles} user={user}/>\r\n                </Modal>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n","/* 柱状图路由 */\r\nimport React, { Component } from 'react'\r\nimport { Card, Button } from \"antd\"\r\nimport ReactEcharts from \"echarts-for-react\"\r\n\r\nexport default class Bar extends Component {\r\n\r\n    state = {\r\n        sales: [5, 20, 16, 10, 10, 20],\r\n        stores: [3, 5, 16, 5, 20, 30]\r\n    }\r\n    update=()=>{\r\n        this.setState(state=>({\r\n            sales:state.sales.map(sale=>sale+1),\r\n            stores:state.stores.reduce((pre,store)=>{\r\n                pre.push(store-1)\r\n                return pre\r\n            },[]),\r\n        }))\r\n    }\r\n    getOption = (sales,stores) => {\r\n        return {\r\n            title: {\r\n                text: 'ECharts 入门示例'\r\n            },\r\n            tooltip: {},\r\n            legend: {\r\n                data: ['销量', \"库存\"]\r\n            },\r\n            xAxis: {\r\n                data: [\"衬衫\", \"羊毛衫\", \"雪纺衫\", \"裤子\", \"高跟鞋\", \"袜子\"]\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '销量',\r\n                type: 'bar',\r\n                data: sales\r\n            },\r\n            {\r\n                name: '库存',\r\n                type: 'bar',\r\n                data: stores\r\n            }]\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {sales,stores}=this.state\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <Button type=\"primary\" onClick={this.update}>更新</Button>\r\n                </Card>\r\n                <Card title=\"柱状图一\">\r\n                    <ReactEcharts option={this.getOption(sales,stores)} />\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","/* 饼状图 */\r\nimport React, { Component } from 'react'\r\nimport { Card } from \"antd\"\r\nimport ReactEcharts from \"echarts-for-react\"\r\n\r\nexport default class Pie extends Component {\r\n    getOption1 = () => {\r\n        return {\r\n            backgroundColor: '#2c343c',\r\n\r\n            title: {\r\n                text: 'Customized Pie',\r\n                left: 'center',\r\n                top: 20,\r\n                textStyle: {\r\n                    color: '#ccc'\r\n                }\r\n            },\r\n\r\n            tooltip: {\r\n                trigger: 'item'\r\n            },\r\n\r\n            visualMap: {\r\n                show: false,\r\n                min: 80,\r\n                max: 600,\r\n                inRange: {\r\n                    colorLightness: [0, 1]\r\n                }\r\n            },\r\n            series: [\r\n                {\r\n                    name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: '55%',\r\n                    center: ['50%', '50%'],\r\n                    data: [\r\n                        { value: 335, name: '直接访问' },\r\n                        { value: 310, name: '邮件营销' },\r\n                        { value: 274, name: '联盟广告' },\r\n                        { value: 235, name: '视频广告' },\r\n                        { value: 400, name: '搜索引擎' }\r\n                    ].sort(function (a, b) { return a.value - b.value; }),\r\n                    roseType: 'radius',\r\n                    label: {\r\n                        color: 'rgba(255, 255, 255, 0.3)'\r\n                    },\r\n                    labelLine: {\r\n                        lineStyle: {\r\n                            color: 'rgba(255, 255, 255, 0.3)'\r\n                        },\r\n                        smooth: 0.2,\r\n                        length: 10,\r\n                        length2: 20\r\n                    },\r\n                    itemStyle: {\r\n                        color: '#c23531',\r\n                        shadowBlur: 200,\r\n                        shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                    },\r\n\r\n                    animationType: 'scale',\r\n                    animationEasing: 'elasticOut',\r\n                    animationDelay: function (idx) {\r\n                        return Math.random() * 200;\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\n    getOption2 = () => {\r\n        return {\r\n            title: {\r\n                text: '某站点用户访问来源',\r\n                subtext: '纯属虚构',\r\n                left: 'center'\r\n            },\r\n            tooltip: {\r\n                trigger: 'item'\r\n            },\r\n            legend: {\r\n                orient: 'vertical',\r\n                left: 'left',\r\n            },\r\n            series: [\r\n                {\r\n                    name: '访问来源',\r\n                    type: 'pie',\r\n                    radius: '50%',\r\n                    data: [\r\n                        {value: 1048, name: '搜索引擎'},\r\n                        {value: 735, name: '直接访问'},\r\n                        {value: 580, name: '邮件营销'},\r\n                        {value: 484, name: '联盟广告'},\r\n                        {value: 300, name: '视频广告'}\r\n                    ],\r\n                    emphasis: {\r\n                        itemStyle: {\r\n                            shadowBlur: 10,\r\n                            shadowOffsetX: 0,\r\n                            shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Card title=\"饼图一\">\r\n                    <ReactEcharts option={this.getOption1()} />\r\n                </Card>\r\n                <Card title=\"饼图二\">\r\n                    <ReactEcharts option={this.getOption2()} />\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","/* 柱状图路由 */\r\nimport React, { Component } from 'react'\r\nimport { Card, Button } from \"antd\"\r\nimport ReactEcharts from \"echarts-for-react\"\r\n\r\nexport default class Line extends Component {\r\n\r\n    state = {\r\n        sales: [5, 20, 16, 10, 10, 20],\r\n        stores: [3, 5, 16, 5, 20, 30]\r\n    }\r\n    update=()=>{\r\n        this.setState(state=>({\r\n            sales:state.sales.map(sale=>sale+1),\r\n            stores:state.stores.reduce((pre,store)=>{\r\n                pre.push(store-1)\r\n                return pre\r\n            },[]),\r\n        }))\r\n    }\r\n    getOption = (sales,stores) => {\r\n        return {\r\n            title: {\r\n                text: 'ECharts 入门示例'\r\n            },\r\n            tooltip: {},\r\n            legend: {\r\n                data: ['销量', \"库存\"]\r\n            },\r\n            xAxis: {\r\n                data: [\"衬衫\", \"羊毛衫\", \"雪纺衫\", \"裤子\", \"高跟鞋\", \"袜子\"]\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '销量',\r\n                type: 'line',\r\n                data: sales\r\n            },\r\n            {\r\n                name: '库存',\r\n                type: 'line',\r\n                data: stores\r\n            }]\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {sales,stores}=this.state\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <Button type=\"primary\" onClick={this.update}>更新</Button>\r\n                </Card>\r\n                <Card title=\"柱状图一\">\r\n                    <ReactEcharts option={this.getOption(sales,stores)} />\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport \"./index.less\"\r\nimport { Statistic, Card,Timeline } from 'antd';\r\nimport { ArrowUpOutlined, ArrowDownOutlined } from '@ant-design/icons';\r\nimport { Chart, Line, Point, Tooltip, Legend, Interval } from 'bizcharts';\r\nimport { DatePicker } from 'antd';\r\nimport moment from 'moment';\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\n/* 首页路由 */\r\n\r\n\r\nexport default class Home extends Component {\r\n\r\n    render() {\r\n\r\n        const data = [\r\n            {\r\n                month: \"Jan\",\r\n                city: \"Tokyo\",\r\n                temperature: 7\r\n            },\r\n            {\r\n                month: \"Jan\",\r\n                city: \"London\",\r\n                temperature: 3.9\r\n            },\r\n            {\r\n                month: \"Feb\",\r\n                city: \"Tokyo\",\r\n                temperature: 6.9\r\n            },\r\n            {\r\n                month: \"Feb\",\r\n                city: \"London\",\r\n                temperature: 4.2\r\n            },\r\n            {\r\n                month: \"Mar\",\r\n                city: \"Tokyo\",\r\n                temperature: 9.5\r\n            },\r\n            {\r\n                month: \"Mar\",\r\n                city: \"London\",\r\n                temperature: 5.7\r\n            },\r\n            {\r\n                month: \"Apr\",\r\n                city: \"Tokyo\",\r\n                temperature: 14.5\r\n            },\r\n            {\r\n                month: \"Apr\",\r\n                city: \"London\",\r\n                temperature: 8.5\r\n            },\r\n            {\r\n                month: \"May\",\r\n                city: \"Tokyo\",\r\n                temperature: 18.4\r\n            },\r\n            {\r\n                month: \"May\",\r\n                city: \"London\",\r\n                temperature: 11.9\r\n            },\r\n            {\r\n                month: \"Jun\",\r\n                city: \"Tokyo\",\r\n                temperature: 21.5\r\n            },\r\n            {\r\n                month: \"Jun\",\r\n                city: \"London\",\r\n                temperature: 15.2\r\n            },\r\n            {\r\n                month: \"Jul\",\r\n                city: \"Tokyo\",\r\n                temperature: 25.2\r\n            },\r\n            {\r\n                month: \"Jul\",\r\n                city: \"London\",\r\n                temperature: 17\r\n            },\r\n            {\r\n                month: \"Aug\",\r\n                city: \"Tokyo\",\r\n                temperature: 26.5\r\n            },\r\n            {\r\n                month: \"Aug\",\r\n                city: \"London\",\r\n                temperature: 16.6\r\n            },\r\n            {\r\n                month: \"Sep\",\r\n                city: \"Tokyo\",\r\n                temperature: 23.3\r\n            },\r\n            {\r\n                month: \"Sep\",\r\n                city: \"London\",\r\n                temperature: 14.2\r\n            },\r\n            {\r\n                month: \"Oct\",\r\n                city: \"Tokyo\",\r\n                temperature: 18.3\r\n            },\r\n            {\r\n                month: \"Oct\",\r\n                city: \"London\",\r\n                temperature: 10.3\r\n            },\r\n            {\r\n                month: \"Nov\",\r\n                city: \"Tokyo\",\r\n                temperature: 13.9\r\n            },\r\n            {\r\n                month: \"Nov\",\r\n                city: \"London\",\r\n                temperature: 6.6\r\n            },\r\n            {\r\n                month: \"Dec\",\r\n                city: \"Tokyo\",\r\n                temperature: 9.6\r\n            },\r\n            {\r\n                month: \"Dec\",\r\n                city: \"London\",\r\n                temperature: 4.8\r\n            }\r\n        ];\r\n        const scale = {\r\n            temperature: { min: 0 },\r\n            city: {\r\n                formatter: v => {\r\n                    return {\r\n                        London: '伦敦',\r\n                        Tokyo: '东京'\r\n                    }[v]\r\n                }\r\n            }\r\n        }\r\n        const title1 = (<h2 style={{ fontSize: 30 }}>1,128,163个</h2>)\r\n        const title2 = (<div className=\"title2\"><h2 style={{ fontSize: 30 }}>访问量&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销售量</h2>\r\n            <RangePicker\r\n                style={{ width: 400, height: 40 }}\r\n                defaultValue={[moment('2021/06/01', 'YYYY/MM/DD'), moment('2021/06/16', 'YYYY/MM/DD')]}\r\n                format={'YYYY/MM/DD'}\r\n            /></div>)\r\n\r\n        const data2 = [\r\n            { year: '1951 年', sales: 0 },\r\n            { year: '1952 年', sales: 52 },\r\n            { year: '1956 年', sales: 61 },\r\n            { year: '1957 年', sales: 45 },\r\n            { year: '1958 年', sales: 48 },\r\n            { year: '1959 年', sales: 38 },\r\n            { year: '1960 年', sales: 38 },\r\n            { year: '1962 年', sales: 38 },\r\n        ];\r\n\r\n        return (\r\n            <div className=\"home\">\r\n                <div className=\"top\">\r\n                    <Card title=\"商品总数\" style={{ width: 300, height: 250, margin: 20 }}>\r\n                        <Statistic\r\n                            title={title1}\r\n                            value=\"周同比15%\"\r\n                            precision={2}\r\n                            valueStyle={{ color: '#3f8600' }}\r\n                            suffix={<ArrowUpOutlined />}\r\n                        />\r\n                        <Statistic\r\n                            value={\"日同比9%\"}\r\n                            precision={2}\r\n                            valueStyle={{ color: '#cf1322' }}\r\n                            suffix={<ArrowDownOutlined />}\r\n                        />\r\n                    </Card>\r\n                    <Chart scale={scale} padding={[30, 20, 60, 40]} autoFit width={1200} height={300} data={data} interactions={['element-active']}>\r\n                        <Point position=\"month*temperature\" color=\"city\" shape='circle' />\r\n                        <Line shape=\"smooth\" position=\"month*temperature\" color=\"city\" label=\"temperature\" />\r\n                        <Tooltip shared showCrosshairs />\r\n                        <Legend background={{\r\n                            padding: [5, 100, 5, 36],\r\n                            style: {\r\n                                fill: '#eaeaea',\r\n                                stroke: '#fff'\r\n                            }\r\n                        }} />\r\n                    </Chart>\r\n\r\n                </div>\r\n\r\n                <Card title={title2} style={{ width: 1600, height: 1000, margin: 20 }}>\r\n                    <div className=\"bottom\">\r\n                        <Card title=\"访问趋势\" style={{ width: 900, height: 700, margin: 20 }}>\r\n                            <Chart height={300} autoFit data={data2} >\r\n                                <Interval position=\"year*sales\" />\r\n                                <Tooltip shared />\r\n                            </Chart>\r\n                        </Card>\r\n                        <Card title=\"任务\" style={{ width: 500, height: 700, margin: 20 }}>\r\n                            <Timeline>\r\n                                <Timeline.Item color=\"green\">Create a services site 2015-09-01</Timeline.Item>\r\n                                <Timeline.Item color=\"green\">Create a services site 2015-09-01</Timeline.Item>\r\n                                <Timeline.Item color=\"red\">\r\n                                    <p>Solve initial network problems 1</p>\r\n                                    <p>Solve initial network problems 2</p>\r\n                                    <p>Solve initial network problems 3 2015-09-01</p>\r\n                                </Timeline.Item>\r\n                                <Timeline.Item>\r\n                                    <p>Technical testing 1</p>\r\n                                    <p>Technical testing 2</p>\r\n                                    <p>Technical testing 3 2015-09-01</p>\r\n                                </Timeline.Item>\r\n                                <Timeline.Item color=\"gray\">\r\n                                    <p>Technical testing 1</p>\r\n                                    <p>Technical testing 2</p>\r\n                                    <p>Technical testing 3 2015-09-01</p>\r\n                                </Timeline.Item>\r\n                                <Timeline.Item color=\"gray\">\r\n                                    <p>Technical testing 1</p>\r\n                                    <p>Technical testing 2</p>\r\n                                    <p>Technical testing 3 2015-09-01</p>\r\n                                </Timeline.Item>\r\n                            </Timeline>,\r\n                        </Card>\r\n                    </div>\r\n                </Card>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React,{ Component } from 'react';\r\nimport { Upload, Modal ,message} from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { reqDeleteImg } from '../../api/index';\r\nimport {BASE_IMG_URL} from \"../../utiles/constants\"\r\n\r\nexport default class PicturesWall extends Component {\r\n  state = {\r\n    previewVisible: false,//标识是否展示大图预览modal\r\n    previewImage: '',//大图的地址url\r\n    fileList: []\r\n  }\r\n  constructor(props){\r\n    super(props)\r\n    let fileList=[]\r\n    const {imgs}=this.props\r\n    if(imgs&&imgs.length>0){\r\n      fileList = imgs.map((img,index)=>({\r\n        uid: -index,\r\n        name: img,\r\n        status: 'done',\r\n        url: BASE_IMG_URL+img,\r\n      }))\r\n    }\r\n    this.state={\r\n      previewVisible: false,//标识是否展示大图预览modal\r\n      previewImage: '',//大图的地址url\r\n      fileList\r\n    }\r\n  }\r\n  //隐藏大图预览框\r\n  handleCancel = () => this.setState({ previewVisible: false });\r\n\r\n  handlePreview = async file => {\r\n    console.log(file);\r\n    this.setState({\r\n      previewImage: file.url || file.thumbUrl,\r\n      previewVisible: true,\r\n    });\r\n  };\r\n\r\n  getImgs=()=>{\r\n    return this.state.fileList.map((file=>file.name))\r\n  }\r\n  handleChange = async ({ file,fileList }) => {\r\n\r\n    if(file.status===\"done\"){\r\n      const result=file.response\r\n      if(result.status===0){\r\n        message.success(\"上传图片成功\")\r\n        const {name,url}=result.data\r\n        file=fileList[fileList.length-1]\r\n        file.name=name\r\n        file.url=url\r\n      }else{\r\n        message.error(\"上传图片失败\")\r\n      }\r\n    }else if(file.status===\"removed\"){\r\n      const result =await reqDeleteImg(file.name)\r\n      if(result.status===0){\r\n        message.success(\"删除图片成功\")\r\n      }else{\r\n        message.success(\"删除图片失败\")\r\n      }\r\n    }\r\n\r\n    this.setState({ fileList })\r\n  }\r\n\r\n  render() {\r\n    const { previewVisible, previewImage, fileList} = this.state;\r\n    const uploadButton = (<div><PlusOutlined /><div style={{ marginTop: 8 }}>Upload</div></div>);\r\n    return (\r\n      <div>\r\n        <Upload\r\n          action=\"/manage/img/upload\"/*上传图片的接口地址*/ \r\n          accept=\"image/*\"/*只接受图片格式*/ \r\n          name=\"image\"/*请求参数名*/\r\n          listType=\"picture-card\"/*图片显示样式*/\r\n          fileList={fileList}/*所有已上传文件对象的数组*/\r\n          onPreview={this.handlePreview}\r\n          onChange={this.handleChange}>   \r\n          {fileList.length >= 6 ? null : uploadButton}\r\n        </Upload>\r\n\r\n        <Modal\r\n          visible={previewVisible}//标识是否大图预览界面\r\n          footer={null}\r\n          onCancel={this.handleCancel}>\r\n          <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { EditorState, convertToRaw ,ContentState} from 'draft-js'\r\nimport { Editor } from 'react-draft-wysiwyg'\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\"\r\nimport draftToHtml from 'draftjs-to-html'\r\nimport htmlToDraft from 'html-to-draftjs'\r\n\r\n\r\nexport default class RichTextEditor extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const html = this.props.detail\r\n        if(html){\r\n            const contentBlock = htmlToDraft(html);\r\n            const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\r\n            const editorState = EditorState.createWithContent(contentState);\r\n            this.state = {editorState,}\r\n          }else{\r\n            this.state={editorState: EditorState.createEmpty()}\r\n          }\r\n        }\r\n\r\n    onEditorStateChange = (editorState) => {\r\n      this.setState({\r\n        editorState,\r\n    })\r\n  }\r\n  getDetail=()=>{\r\n      return (draftToHtml(convertToRaw(this.state.editorState.getCurrentContent())))\r\n  }\r\n\r\n  uploadImageCallBack=(file)=> {\r\n    return new Promise(\r\n      (resolve, reject) => {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open('POST', '/manage/img/upload');\r\n        const data = new FormData();\r\n        data.append('image', file);\r\n        xhr.send(data);\r\n        xhr.addEventListener('load', () => {\r\n          const response = JSON.parse(xhr.responseText);\r\n          const url=response.data.url\r\n          resolve({data:{link:url}});\r\n        });\r\n        xhr.addEventListener('error', () => {\r\n          const error = JSON.parse(xhr.responseText);\r\n          reject(error);\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  render() {\r\n    const { editorState } = this.state\r\n    return (\r\n        <Editor\r\n          editorState={editorState}\r\n          editorStyle={{border:\"1px solid black\",minHeight:200,paddingLeft:10}}\r\n          onEditorStateChange={this.onEditorStateChange}\r\n          toolbar={{\r\n            image: { uploadCallback: this.uploadImageCallBack, alt: { present: true, mandatory: true } },\r\n          }}\r\n          />\r\n\r\n    )\r\n  \r\n }\r\n}","/* 存贮数据 */\r\nconst user={\r\n    user:{},\r\n    product:{}\r\n}\r\nexport default user\r\n","import React, { Component } from 'react'\r\nimport {Card,Form,Input,Cascader ,Button ,message} from \"antd\"\r\nimport LinkButton from \"../../components/LinkButton\"\r\nimport {ArrowLeftOutlined} from '@ant-design/icons';\r\nimport {reqCategorys,reqAddOrUpdateProduct} from \"../../api\"\r\nimport PicturesWall from \"./pictureswall\"\r\nimport RichTextEditor from \"./richtexteditor\"\r\nimport memoryUtils from \"../../utiles/memoryUtils\"\r\n\r\nexport default class ProductAddUpdate extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.myRef=React.createRef()\r\n        this.edtRef=React.createRef()\r\n    }\r\n    state={options:[]}\r\n\r\n    initOptions= async (categorys)=>{\r\n        const options=categorys.map(c=>({\r\n            value:c._id,\r\n            label:c.name,\r\n            isLeaf:false,\r\n        }))\r\n        const {isUpdate,product}=this\r\n        const {pCategoryId}=product\r\n        if (isUpdate&&pCategoryId!==0) {\r\n            const subCategorys= await this.getCategorys(pCategoryId)\r\n            const childOptions=subCategorys.map(c=>({\r\n                value:c._id,\r\n                label:c.name,\r\n                isLeaf:true,\r\n            }))\r\n            const targetOption=options.find(option=>option.value===pCategoryId)\r\n            targetOption.children=childOptions\r\n        }\r\n\r\n        this.setState({options})\r\n    }\r\n    \r\n    getCategorys = async (parentId)=>{\r\n        const result=  await reqCategorys(parentId)\r\n        if (result.status===0) {\r\n            const categorys =result.data\r\n            if(parentId===\"0\"){\r\n                this.initOptions(categorys)\r\n            }\r\n            else{\r\n                return categorys\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getCategorys(\"0\")\r\n        \r\n    }\r\n    componentWillUnmount(){\r\n        memoryUtils.product={}\r\n    }\r\n    UNSAFE_componentWillMount(){\r\n        const product=memoryUtils.product\r\n        this.isUpdate=!!product._id\r\n        this.product=product||{}\r\n    }\r\n    onFinish= async (values)=>{\r\n        //1、收集参数。2、调用请求接口去添加或者更新。3、根据结果显示\r\n        const {name,desc,price,categoryIds}=values\r\n        let pCategoryId,categoryId\r\n        if(categoryIds.length===1){\r\n            pCategoryId=\"0\"\r\n            categoryId=categoryIds[0]\r\n        }else{\r\n            pCategoryId=categoryIds[0]\r\n            categoryId=categoryIds[1]\r\n        }\r\n        const imgs=this.myRef.current.getImgs()\r\n        const detail=this.edtRef.current.getDetail()\r\n        const product={name,desc,price,imgs,detail,categoryId,pCategoryId}\r\n\r\n        if(this.isUpdate){\r\n            product._id=this.product._id\r\n        }\r\n        console.log(product);\r\n        const result =await reqAddOrUpdateProduct(product)\r\n        console.log(result);\r\n        if(result.status===0){\r\n            message.success(`${this.isUpdate?\"更新\":\"添加\"}商品成功`)\r\n            this.props.history.goBack()\r\n        }else{\r\n            message.error(`${this.isUpdate?\"更新\":\"添加\"}商品失败`)\r\n        }\r\n\r\n    }\r\n\r\n    validator=(_,value)=>{\r\n        if(value*1>=0){\r\n            return Promise.resolve()\r\n        }else{\r\n            return Promise.reject(\"且价格必须大于0\")\r\n        }\r\n    }\r\n    loadData = async (selectedOptions) => {\r\n        const targetOption = selectedOptions[0];\r\n        targetOption.loading = true;\r\n    \r\n        const subCategorys= await this.getCategorys(targetOption.value)\r\n        targetOption.loading = false;\r\n        if(subCategorys&&subCategorys.length>0){\r\n            const cOptions=subCategorys.map(c=>({\r\n                value:c._id,\r\n                label:c.name,\r\n                isLeaf:true,\r\n            }))\r\n            targetOption.children=cOptions\r\n        }else{\r\n            targetOption.isLeaf=true\r\n            \r\n        }\r\n        this.setState({options:[...this.state.options]});\r\n    };\r\n\r\n    render() {\r\n        const {pCategoryId,categoryId,imgs,detail}=this.product\r\n        const categoryIds=[]\r\n        if(this.isUpdate){\r\n            if (pCategoryId===\"0\") {\r\n                categoryIds.push(categoryId)\r\n            }else{\r\n                categoryIds.push(pCategoryId)\r\n                categoryIds.push(categoryId)\r\n            }\r\n            \r\n        }\r\n\r\n        const layout = {\r\n            labelCol: { span: 2 },\r\n            wrapperCol: { span: 8 },\r\n          }\r\n\r\n        const title=(<span>\r\n            <LinkButton onClick={()=>{this.props.history.goBack()}}><ArrowLeftOutlined  style={{fontSize:20,color:\"rgb(17,149,122)\"}}/></LinkButton>\r\n            <LinkButton>{this.isUpdate?\"修改商品\":\"添加商品\"}</LinkButton>\r\n            </span>)\r\n\r\n\r\n        return (\r\n            <Card title={title}>\r\n                <Form {...layout} onFinish={this.onFinish}>\r\n                    <Form.Item label=\"商品名称\" name=\"name\" initialValue={this.product.name} rules={[{required:true,message:\"商品名称不可为空\"},]}>\r\n                        <Input placeholder=\"请输入商品名称\"/>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"商品描述\" initialValue={this.product.desc} name=\"desc\" rules={[{required:true,message:\"商品描述不可为空\"},]}>\r\n                        <Input.TextArea rows={4} placeholder=\"请输入商品名称\"/>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"商品价格\" initialValue={this.product.price} name=\"price\" rules={[{required:true,message:\"商品价格不可为空\"},{validator:this.validator}]}>\r\n                        <Input type=\"number\" addonAfter=\"元\"  placeholder=\"请输入商品价格\"/>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"商品分类\" initialValue={categoryIds} name=\"categoryIds\"  rules={[{required:true,message:\"必须选择一个分类\"}]}>\r\n                        <Cascader placeholder=\"请指定商品分类\" options={this.state.options} loadData={this.loadData}/>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"商品图片\" name=\"imgs\" >\r\n                        <PicturesWall ref={this.myRef} imgs={imgs}/>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"商品详情\"  labelCol={{ span: 2} } wrapperCol={ {span: 14} }>\r\n                        <RichTextEditor ref={this.edtRef} detail={detail}/>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button style={{marginLeft:615}} type=\"primary\" htmlType=\"submit\">提交</Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport{Card,List,Image } from \"antd\"\r\nimport {ArrowLeftOutlined} from '@ant-design/icons'\r\nimport LinkButton from '../../components/LinkButton'\r\nimport {BASE_IMG_URL} from '../../utiles/constants'\r\nimport {reqCategory} from \"../../api/index\"\r\nimport memoryUtils from \"../../utiles/memoryUtils\"\r\n\r\nexport default class ProductDetial extends Component {\r\n    state={cName1:\"\",\r\n            cName2:\"\"}\r\n    async componentDidMount(){\r\n        const {pCategoryId,categoryId}=memoryUtils.product\r\n        if(pCategoryId===\"0\"){\r\n            const result= await reqCategory(categoryId)\r\n            const cName1=result.data.name\r\n            this.setState({cName1})\r\n        }else{\r\n            const result= await Promise.all([reqCategory(pCategoryId),reqCategory(categoryId)])\r\n            const cName1=result[0].data.name\r\n            const cName2=result[1].data.name\r\n            this.setState({cName1,cName2})\r\n        }\r\n        \r\n    }\r\n    componentWillUnmount(){\r\n        memoryUtils.product={}\r\n    }\r\n    render() {\r\n        const{cName1,cName2}=this.state\r\n        const {name,desc,price,detail,imgs}=memoryUtils.product\r\n        const title=(\r\n            <span>\r\n                <LinkButton onClick={()=>{this.props.history.goBack()}}><ArrowLeftOutlined style={{color:\"rgb(17,149,122)\",marginRight:15,fontSize:20}}/></LinkButton>\r\n                <span>商品详情</span>\r\n            </span>\r\n        )\r\n        return (\r\n            <Card title={title} className=\"product-detail\">\r\n                <List>\r\n                    <List.Item className=\"align\"><span className=\"left\">商品名称:</span><span>{name}</span></List.Item>\r\n                    <List.Item className=\"align\"><span className=\"left\">商品描述:</span><span>{desc}</span></List.Item>\r\n                    <List.Item className=\"align\"><span className=\"left\">商品价格:</span><span>￥{price}</span></List.Item>\r\n                    <List.Item className=\"align\"><span className=\"left\">所属分类:</span><span>{cName1}{cName2 ? \"-->\"+cName2:\"\"}</span></List.Item>\r\n                    <List.Item className=\"align\"><span className=\"left\">商品图片:</span>\r\n                    {\r\n                        imgs.map((img)=>{\r\n                            return (<Image key={img} className=\"img\" src={BASE_IMG_URL+img} alt=\"img\"/>)\r\n                        })\r\n                    }\r\n                    \r\n                    </List.Item>\r\n                    <List.Item className=\"align\"><span className=\"left\">商品详情:</span>\r\n                    <span dangerouslySetInnerHTML={{__html:detail}}></span></List.Item>\r\n                </List>\r\n            </Card>\r\n        )\r\n\r\n    } \r\n}\r\n","import React, { Component } from 'react'\r\nimport{Card,Select,Input,Button,Table,message} from \"antd\"\r\nimport { PlusOutlined } from '@ant-design/icons'\r\nimport LinkButton from '../../components/LinkButton'\r\nimport {reqProducts,reqSearchProducts,reqUpdateStatus} from \"../../api/index\"\r\nimport {PAGE_SIZE} from \"../../utiles/constants\"\r\nimport memoryUtils from \"../../utiles/memoryUtils\"\r\n\r\nexport default class ProductHome extends Component {\r\n    state={total:0,\r\n        products:[],\r\n        loading:false,\r\n        searchName:\"\",\r\n        searchType:\"productName\"    \r\n    }\r\n    initColumns=()=>{\r\n        this.columns = [\r\n            {\r\n              title: '商品名称 ',\r\n              dataIndex: 'name',\r\n            },\r\n            {\r\n              title: '商品描述',\r\n              dataIndex: 'desc',\r\n            },\r\n            {\r\n              title: '价格',\r\n              dataIndex: 'price',\r\n              render:(price)=>\"￥ \"+price\r\n            },\r\n            {\r\n                title: '状态 ',\r\n                width:100,\r\n                render:(product)=>{\r\n                    const {status,_id}=product\r\n                    return (<span>\r\n                        <Button type=\"primary\" onClick={()=>this.UpdateStatus(_id,status===1?2:1)}>{status===1?\"下架\":\"上架\"}</Button>\r\n                        <span>{status===1?\"在售\":\"售罄\"}</span>\r\n                    </span>)\r\n                }\r\n              },\r\n              {\r\n                width:100,\r\n                title: '操作 ',\r\n                render:(product)=>{\r\n                    return (<span>\r\n                        <LinkButton onClick={()=>this.showDetail(product)}>详情</LinkButton>\r\n                        <LinkButton onClick={()=>this.showUpdate(product)}>修改</LinkButton>\r\n                    </span>)\r\n                }\r\n              },\r\n          ]\r\n    }\r\n\r\n    showDetail=(product)=>{\r\n        memoryUtils.product=product\r\n        this.props.history.push(\"./product/detail\")\r\n    }\r\n\r\n    showUpdate=(product)=>{\r\n        memoryUtils.product=product\r\n        this.props.history.push(\"/product/addupdate\")\r\n    }\r\n    \r\n\r\n    UpdateStatus= async (productId,status)=>{\r\n    const result=await reqUpdateStatus(productId,status)\r\n        if(result.status===0){\r\n            message.success(\"更新状态成功\")\r\n            this.getProducts(this.pageNum)\r\n\r\n        }\r\n    }\r\n\r\n\r\n    getProducts= async (pageNum)=>{\r\n        this.pageNum=pageNum\r\n        this.setState({loading:true})\r\n        const {searchName,searchType}=this.state\r\n        let result\r\n        if (searchName) {\r\n             result= await reqSearchProducts({pageNum,pageSize:PAGE_SIZE,searchName,searchType})\r\n        }else{\r\n             result =await reqProducts(pageNum,PAGE_SIZE)\r\n        }\r\n        this.setState({loading:false})\r\n        const {total,list}=result.data\r\n        this.setState({total,products:list})\r\n    }\r\n\r\n    UNSAFE_componentWillMount(){\r\n        this.initColumns()\r\n    }\r\n    \r\n    componentDidMount(){\r\n        this.getProducts(1)\r\n    }\r\n\r\n    render() {\r\n        const {products,total,loading,searchName,searchType} =this.state\r\n          \r\n\r\n        const title=(\r\n            <span>\r\n                <Select value={searchType} style={{width:140}} onChange={(value=>this.setState({searchType:value}))}>\r\n                    <Select.Option value=\"productName\">按名称搜索</Select.Option>\r\n                    <Select.Option value=\"productDesc\" >按描述搜索</Select.Option>\r\n                </Select>\r\n                <Input onChange={(event)=>this.setState({searchName:event.target.value})} value={searchName} style={{width:160,margin:\"0 15px\"}} placeholder=\"关键字\"/>\r\n                <Button type=\"primary\" onClick={()=>{this.getProducts(1)}}>搜索</Button>\r\n            </span> \r\n        )\r\n        const extra=(\r\n            <Button type=\"primary\" icon={<PlusOutlined />} onClick={()=>{this.props.history.push(\"/product/addupdate\")}}>\r\n                添加商品\r\n            </Button>\r\n        )\r\n\r\n        return (\r\n            <Card title={title} extra={extra}>\r\n                <Table loading={loading} pagination={{ current: this.pageNum,onChange:this.getProducts,defaultPageSize:PAGE_SIZE,total:total,showQuickJumper:true}} bordered rowKey=\"_id\" dataSource={products} columns={this.columns} />;\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n","/* 商品路由 */\r\nimport React, { Component } from 'react'\r\nimport { Switch, Route ,Redirect} from \"react-router-dom\"\r\nimport \"./index.less\"\r\nimport ProductAddUpdate from \"./productaddupdate\"\r\nimport ProductDetail from \"./productdetial\"\r\nimport ProductHome from \"./producthome\"\r\n\r\nexport default class Product extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Switch>\r\n                    <Route path=\"/product\" component={ProductHome} exact></Route>\r\n                    <Route path=\"/product/addupdate\" component={ProductAddUpdate}></Route>\r\n                    <Route path=\"/product/detail\" component={ProductDetail}></Route>\r\n                    <Redirect to=\"product\"></Redirect>\r\n                </Switch>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component} from 'react'\r\nimport { Form, Input } from \"antd\"\r\n\r\n\r\nexport default class AddForm extends Component {\r\n    componentDidMount(){\r\n        this.props.setForm(this.formRef.current)\r\n    }\r\n\r\n    formRef=React.createRef()\r\n    render() {\r\n        return (\r\n            <Form ref={this.formRef} >\r\n                <Form.Item label=\"角色名称:\" rules={[{required:true,message:\"必须输入角色名称\"}]} name=\"roleName\" initialValue=\"\"> \r\n                    <Input placeholder=\"请输入角色名称\" />\r\n                </Form.Item>\r\n            </Form> )\r\n            \r\n    } \r\n}","import React, { PureComponent} from 'react'\r\nimport { Form, Input ,Tree} from \"antd\"\r\nimport menuList from '../../config/menuConfig'\r\n\r\nexport default class AuthForm extends PureComponent {\r\n\r\n    state={treeNodes:[{title: '平台权限',key:'all',children: []}],checkedKey:[]}\r\n    UNSAFE_componentWillMount(){\r\n        let treeNodes=this.state.treeNodes\r\n        treeNodes[0].children=menuList\r\n        this.setState({treeNodes})\r\n        \r\n    }\r\n    onCheck=(checkedKey)=>{\r\n        this.setState({checkedKey})\r\n    }\r\n\r\n    getMenus=()=>this.state.checkedKey\r\n    render() {\r\n        const {role}=this.props\r\n        return (\r\n            <Form>\r\n                <Form.Item label=\"角色名称:\" name=\"roleName\" initialValue={role.name} > \r\n                    <Input disabled={true}/>\r\n                </Form.Item>\r\n\r\n                <Tree\r\n                    onCheck={this.onCheck}\r\n                    defaultCheckedKeys={role.menus}\r\n                    defaultExpandAll={true}\r\n                    checkable={true}\r\n                    treeData={this.state.treeNodes}\r\n                />\r\n            </Form> )\r\n            \r\n    } \r\n}","/* 角色路由 */\r\nimport React, { Component } from 'react'\r\nimport { Card, Button, Table ,Modal,message} from \"antd\"\r\nimport {PAGE_SIZE} from \"../../utiles/constants\"\r\nimport {reqAddRole, reqRoles,reqUpdateRole} from \"../../api/index\"\r\nimport AddForm from \"./addform\"\r\nimport AuthForm  from \"./authform\"\r\nimport {formateDate} from \"../../utiles/dateUtils\"\r\nimport {connect} from \"react-redux\"\r\nimport {logout} from \"../../redux/actions\"\r\n\r\nclass Role extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.authRef=React.createRef()\r\n    }\r\n    state={roles:[],role:{},isShowAdd:false,isShowAuth:false}\r\n    authRef=React.createRef()\r\n    initColumn=()=>{\r\n        this.columns=[\r\n            {title:\"角色名称\",\r\n            dataIndex:\"name\"},\r\n            {title:\"创建时间\",\r\n            dataIndex:\"create_time\",\r\n            render:(create_time)=>formateDate(create_time)\r\n            },\r\n            {title:\"授权时间\",\r\n            dataIndex:\"auth_time\",\r\n            render:formateDate\r\n        },\r\n            {title:\"授权人\",\r\n            dataIndex:\"auth_name\"},\r\n        ]\r\n    }\r\n    onRow=(role)=>{\r\n        return {\r\n            onClick:()=>{\r\n                this.setState({role})\r\n            },\r\n        }\r\n    }\r\n    getRoles= async ()=>{\r\n        const result= await reqRoles()\r\n        if(result.status===0){\r\n            const roles=result.data\r\n            this.setState({roles})\r\n        }\r\n    }\r\n    addRole=()=>{\r\n        this.form.validateFields([\"roleName\"]).then(async values=>{\r\n            this.setState({isShowAdd:false})\r\n            const {roleName}=values\r\n            const result= await reqAddRole(roleName)\r\n            if(result.status===0){\r\n                message.success(\"添加角色成功\")\r\n                const role=result.data\r\n                this.setState({roles:[...this.state.roles,role]})\r\n            }else{\r\n                message.success(\"添加角色失败\")\r\n            }\r\n        }).catch(error=>{\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    updateRole= async ()=>{\r\n        const role=this.state.role\r\n        const menus=this.authRef.current.getMenus()\r\n        role.menus=menus\r\n        role.auth_time=Date.now()\r\n        role.auth_name=this.props.user.username\r\n\r\n        const result =await reqUpdateRole(role)\r\n        if(result.status===0){\r\n            this.setState({isShowAuth:false})\r\n            if (role._id===this.props.user.role_id) {\r\n                this.props.logout()\r\n                message.success(\"当前用户角色权限修改，请重新登陆\")\r\n            }else{\r\n                message.success(\"设置角色权限成功\")\r\n                 this.setState({roles:[...this.state.roles]})\r\n            }\r\n           \r\n        }\r\n\r\n    }\r\n\r\n    UNSAFE_componentWillMount(){\r\n        this.initColumn()\r\n    }\r\n    componentDidMount(){\r\n       this.getRoles()\r\n    }\r\n    render() {\r\n        const {roles,role,isShowAdd,isShowAuth}=this.state\r\n        const title = (<span>\r\n            <Button type=\"primary\" onClick={()=>{this.setState({isShowAdd:true})}}>创建角色</Button>&nbsp;&nbsp;\r\n            <Button type=\"primary\" onClick={()=>{this.setState({isShowAuth:true})}} disabled={!role._id}>设置角色权限</Button>\r\n        </span>)\r\n        return (\r\n            <Card title={title}>\r\n                <Table  \r\n                    rowKey=\"_id\" \r\n                    dataSource={roles}\r\n                    bordered \r\n                    rowSelection={{type:\"radio\",selectedRowKeys:[role._id],onSelect:(role)=>this.setState({role})}}\r\n                    onRow={this.onRow}\r\n                    columns={this.columns} \r\n                    pagination={{ defaultPageSize: PAGE_SIZE, showQuickJumper: true }} />\r\n\r\n                <Modal destroyOnClose title=\"添加角色\" \r\n                        visible={isShowAdd} onOk={this.addRole} \r\n                        onCancel={()=>{this.setState({isShowAdd:false})}}>\r\n                    <AddForm setForm={(form) => { this.form = form }} />\r\n                </Modal>\r\n\r\n\r\n\r\n                <Modal destroyOnClose title=\"设置角色权限\" \r\n                        visible={isShowAuth} onOk={this.updateRole} \r\n                        onCancel={()=>{this.setState({isShowAuth:false})}}>\r\n                    <AuthForm ref={this.authRef} role={role}/>\r\n                </Modal>\r\n\r\n\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state=>({user:state.user}),\r\n    {logout}\r\n\r\n)(Role)","import React, { Component } from 'react'\r\nimport { Button, Row, Col } from \"antd\"\r\nimport { connect } from \"react-redux\"\r\nimport { setHeadTitle } from \"../../redux/actions\"\r\nimport \"./index.less\"\r\n\r\n\r\nclass NotFound extends Component {\r\n    goHome = () => {\r\n        // this.props.setHeadTitle(\"首页\")\r\n        this.props.history.replace(\"/\")\r\n    }\r\n    render() {\r\n        return (\r\n            <Row className=\"not-found\">\r\n                <Col span={12} className=\"left\"></Col>\r\n                <Col span={12} className=\"right\">\r\n                    <h1>404</h1>\r\n                    <h2>抱歉，你访问的页面不存在</h2>\r\n                    <div>\r\n                        <Button type=\"primary\" onClick={this.goHome}>回到首页</Button>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    { setHeadTitle }\r\n)(NotFound)","import React, { Component } from 'react'\r\nimport { Redirect ,Route,Switch} from \"react-router-dom\"\r\nimport { Layout } from 'antd';\r\nimport LeftNav from \"../../components/LeftNav\"\r\nimport Header from \"../../components/Header\"\r\nimport  Category from \"../Category\"\r\nimport  User from \"../User\"\r\nimport  Bar from \"../Charts/Bar\"\r\nimport  Pie from \"../Charts/Pie\"\r\nimport  Line from \"../Charts/Line\"\r\nimport  Home from \"../Home\"\r\nimport  Product from \"../Product\"\r\nimport  Role from \"../Role\"\r\nimport {connect} from \"react-redux\"\r\nimport NotFound from \"../notfound\"\r\n\r\nconst { Footer, Sider, Content } = Layout;\r\n\r\n\r\n\r\n//管理路由组件\r\nclass Admin extends Component {\r\n    render() {\r\n        const user = this.props.user\r\n        if (!user || !user._id) {\r\n            return <Redirect to=\"/login\"/>\r\n        }\r\n        return (\r\n            <Layout style={{minHeight:\"100%\"}}>\r\n                <Sider><LeftNav/></Sider>\r\n                <Layout>\r\n                    <Header>Header</Header>\r\n                    <Content style={{margin:\"20px\",backgroundColor:'#fff'}}>\r\n                        <Switch>\r\n                            <Redirect exact from=\"/\" to=\"/home\"/>\r\n                            <Route path=\"/home\" component={Home}></Route>\r\n                            <Route path=\"/category\" component={Category}></Route>\r\n                            <Route path=\"/product\" component={Product}></Route>\r\n                            <Route path=\"/role\" component={Role}></Route>\r\n                            <Route path=\"/user\" component={User}></Route>\r\n                            <Route path=\"/charts/bar\" component={Bar}></Route>\r\n                            <Route path=\"/charts/line\" component={Line}></Route>\r\n                            <Route path=\"/charts/pie\" component={Pie}></Route>\r\n                            <Route component={NotFound}></Route>\r\n                        </Switch>\r\n                    </Content>\r\n                    <Footer style={{textAlign:\"center\",color:\"#ccc\"}}>推荐使用谷歌浏览器，可以获得更佳页面操作体验</Footer>\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state=>({user:state.user}),\r\n    {}\r\n)(Admin)","import React, { Component } from 'react'\r\nimport {Route, Switch } from \"react-router-dom\"\r\n\r\nimport Login from \"./pages/Login\"\r\nimport Admin from \"./pages/Admin\"\r\n\r\nexport default class App extends Component {\r\n\r\n    render() {\r\n        return ( \r\n                <Switch>\r\n                    <Route path=\"/login\" component={Login}></Route>\r\n                    <Route path=\"/\" component={Admin}></Route>\r\n                </Switch>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport { HashRouter } from \"react-router-dom\"\r\nimport {Provider} from \"react-redux\"\r\nimport store from \"./redux/store\"\r\nimport App from \"./App\"\r\n\r\n\r\nReactDOM.render(<HashRouter><Provider store={store}><App/></Provider></HashRouter>,document.getElementById(\"root\"))"],"sourceRoot":""}